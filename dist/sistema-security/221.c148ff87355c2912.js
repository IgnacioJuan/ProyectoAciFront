"use strict";(self.webpackChunksistema_security=self.webpackChunksistema_security||[]).push([[221],{2802:(x,v,c)=>{c.d(v,{D:()=>s});class s{constructor(){this.evidencia=null,this.usuario=null}}},9221:(x,v,c)=>{c.r(v),c.d(v,{AutoridadModule:()=>ae});var s=c(6895),l=c(1635),t=c(4650),b=c(4120);let u=(()=>{class i{constructor(e,o){this.loginService=e,this.router=o}canActivate(e,o){return!(!this.loginService.isLoggedIn()||"AUTORIDAD"!=this.loginService.getUserRole())||(this.router.navigate(["login"]),!1)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(b.r),t.LFG(l.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var h=c(8739),r=c(3626),_=c(2068);const $=["datosModalRef"];function M(i,n){1&i&&(t.TgZ(0,"mat-header-cell",15),t._uU(1,"C\xf3digo"),t.qZA())}function O(i,n){if(1&i&&(t.TgZ(0,"mat-cell",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.id_actividad)}}function D(i,n){1&i&&(t.TgZ(0,"mat-header-cell",15),t._uU(1,"Nombre"),t.qZA())}function P(i,n){if(1&i&&(t.TgZ(0,"mat-cell",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.nombre)}}function k(i,n){1&i&&(t.TgZ(0,"mat-header-cell",15),t._uU(1,"Fecha Inicio"),t.qZA())}function S(i,n){if(1&i&&(t.TgZ(0,"mat-cell",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.fecha_inicio)}}function I(i,n){1&i&&(t.TgZ(0,"mat-header-cell",15),t._uU(1,"Fecha Fin"),t.qZA())}function N(i,n){if(1&i&&(t.TgZ(0,"mat-cell",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.fecha_fin)}}function q(i,n){1&i&&(t.TgZ(0,"mat-header-cell",15),t._uU(1,"Responsable"),t.qZA())}function Y(i,n){if(1&i&&(t.TgZ(0,"mat-cell",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.usuario.persona.primer_nombre+" "+e.usuario.persona.primer_apellido)}}function j(i,n){1&i&&t._UZ(0,"mat-header-row")}function E(i,n){1&i&&t._UZ(0,"mat-row")}const Q=function(){return[5,10,20]};let L=(()=>{class i{ngAfterViewInit(){console.log("Paginator:",this.paginator),this.paginator&&(this.dataSource.paginator=this.paginator)}constructor(e,o){this.service=e,this.paginatorIntl=o,this.itemsPerPageLabel="Actividades por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.rango=(a,p,d)=>{if(0==d||0==p)return`0 de ${d}`;const f=a*p;return`${f+1} - ${f<(d=Math.max(d,0))?Math.min(f+p,d):f+p} de ${d}`},this.searchText="",this.actividad=[],this.dataSource=new r.by(this.actividad),this.displayedColumns=["C\xf3digo","Nombre","Fecha Inicio","Fecha Fin","Responsable"],this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngOnInit(){this.getListar()}getListar(){this.service.getActividadCumplida().subscribe(e=>{this.actividad=e,this.dataSource.data=this.actividad})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.X),t.Y36(h.ye))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-consulta-actividad"]],viewQuery:function(e,o){if(1&e&&(t.Gf($,5),t.Gf(h.NW,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.datosModalRef=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first)}},decls:29,vars:5,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[1,"card"],[1,"card-body"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","C\xf3digo"],["class","text-center",4,"matHeaderCellDef"],["class","text-center",4,"matCellDef"],["matColumnDef","Nombre"],["matColumnDef","Fecha Inicio"],["matColumnDef","Fecha Fin"],["matColumnDef","Responsable"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1")(4,"strong"),t._uU(5," LISTADO DE ACTIVIDADES CUMPLIDAS"),t.qZA()()(),t._UZ(6,"div"),t.TgZ(7,"div",2)(8,"div",3),t._UZ(9,"br"),t.TgZ(10,"table",4),t.ynx(11,5),t.YNc(12,M,2,0,"mat-header-cell",6),t.YNc(13,O,2,1,"mat-cell",7),t.BQk(),t.ynx(14,8),t.YNc(15,D,2,0,"mat-header-cell",6),t.YNc(16,P,2,1,"mat-cell",7),t.BQk(),t.ynx(17,9),t.YNc(18,k,2,0,"mat-header-cell",6),t.YNc(19,S,2,1,"mat-cell",7),t.BQk(),t.ynx(20,10),t.YNc(21,I,2,0,"mat-header-cell",6),t.YNc(22,N,2,1,"mat-cell",7),t.BQk(),t.ynx(23,11),t.YNc(24,q,2,0,"mat-header-cell",6),t.YNc(25,Y,2,1,"mat-cell",7),t.BQk(),t.YNc(26,j,1,0,"mat-header-row",12),t.YNc(27,E,1,0,"mat-row",13),t.qZA(),t._UZ(28,"mat-paginator",14),t.qZA()()()()),2&e&&(t.xp6(10),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,Q)))},dependencies:[h.NW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk],styles:["body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"]}),i})();var Z=c(1282),T=c(9541),y=c(9921),F=c(6493),w=c(4859);function B(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",33),t.NdJ("click",function(){const p=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.fetchAndProcessData(p.nombre))}),t.TgZ(1,"div",34)(2,"div",34),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"div",35),t._uU(6),t.qZA(),t.TgZ(7,"div",36),t._uU(8),t.ALo(9,"number"),t.ALo(10,"number"),t.qZA()()()}if(2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("background-color",a.coloresTarjetas[o])("border",a.borderStyles[o]),t.xp6(3),t.hij("",t.xi3(4,8,e.total/e.faltante*100,"1.0-2"),"%"),t.xp6(3),t.Oqu(e.nombre),t.xp6(2),t.AsE("Total: ",t.xi3(9,11,e.total,"1.2-4")," de ",t.xi3(10,14,e.faltante,"1.2-4"),"")}}function J(i,n){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,B,11,17,"div",32),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listain)}}function G(i,n){1&i&&(t.TgZ(0,"div",37),t._UZ(1,"img",38),t.qZA())}function H(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"Criterio"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verCriterio?"":"none")}}function z(i,n){if(1&i&&(t.TgZ(0,"td",60),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("display",a.verCriterio&&a.getRowSpan3("Criterio",o)?"":"none")("background-color",a.getColorcelda("Criterio",.3)),t.uIk("rowspan",a.getRowSpan3("Criterio",o)),t.xp6(1),t.hij(" ",e.criterionomj," ")}}function V(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"Subcriterio"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verSubcriterio?"":"none")}}function K(i,n){if(1&i&&(t.TgZ(0,"td",60),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("background-color",e.randomColor)("display",a.verSubcriterio&&a.getRowSpan3("Subcriterio",o)?"":"none"),t.uIk("rowspan",a.getRowSpan3("Subcriterio",o)),t.xp6(1),t.hij(" ",e.subcrierioj," ")}}function W(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"Indicador"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verIndicador?"":"none")}}function X(i,n){if(1&i&&(t.TgZ(0,"td",60),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("background-color",e.Colores)("display",a.verIndicador&&a.getRowSpan3("Indicador",o)?"":"none"),t.uIk("rowspan",a.getRowSpan3("Indicador",o)),t.xp6(1),t.AsE(" ",e.ind_nombrej," ",a.calcularRowSpanValue(o)," ")}}function tt(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"Peso"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verPeso?"":"none")}}function et(i,n){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("display",a.verPeso&&a.getRowSpan3("Peso",o)?"":"none"),t.uIk("rowspan",a.getRowSpan3("Peso",o)),t.xp6(1),t.hij(" ",e.pes," ")}}function it(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"% Obtenido"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verObtenido?"":"none")}}const at=function(i,n,e,o){return{rojo:i,naranja:n,amarillo:e,verde:o}};function ot(i,n){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("display",a.verObtenido&&a.getRowSpan3("Obtenido",o)?"":"none"),t.Q6J("ngClass",t.l5B(5,at,e.obt>=0&&e.obt<=25,e.obt>25&&e.obt<=50,e.obt>50&&e.obt<=75,e.obt>75&&e.obt<=100)),t.uIk("rowspan",a.getRowSpan3("Obtenido",o)),t.xp6(1),t.hij(" ",e.obt," ")}}function nt(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"% Utilidad"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verUtilidad?"":"none")}}function rt(i,n){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("display",a.verUtilidad&&a.getRowSpan3("Utilidad",o)?"":"none"),t.uIk("rowspan",a.getRowSpan3("Utilidad",o)),t.xp6(1),t.hij(" ",e.uti," ")}}function ct(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"Valor"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verValor?"":"none")}}function st(i,n){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("display",a.verValor&&a.getRowSpan3("Valor",o)?"":"none"),t.uIk("rowspan",a.getRowSpan3("Valor",o)),t.xp6(1),t.hij(" ",e.val," ")}}function lt(i,n){if(1&i&&(t.TgZ(0,"th",59),t._uU(1,"Evidencia"),t.qZA()),2&i){const e=t.oxw(2);t.Udp("display",e.verEvidencia?"":"none")}}function dt(i,n){if(1&i&&(t.TgZ(0,"td",63),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=n.index,a=t.oxw(2);t.Udp("background-color",e.indicol)("display",a.verEvidencia&&a.getRowSpan3("Evidencia",o)?"":"none"),t.uIk("rowspan",a.getRowSpan3("Evidencia",o)),t.xp6(1),t.hij(" ",e.descrip," ")}}function pt(i,n){1&i&&t._UZ(0,"tr",64)}function ut(i,n){1&i&&t._UZ(0,"tr",65)}function mt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",39)(2,"h3")(3,"span",14),t._uU(4,"Criterio Seleccionado:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",40)(7,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showCriterio())}),t._uU(8," Criterio "),t.qZA(),t.TgZ(9,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showSubcriterio())}),t._uU(10," Subcriterio "),t.qZA(),t.TgZ(11,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showIndicador())}),t._uU(12," Indicador "),t.qZA(),t.TgZ(13,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showEvidencia())}),t._uU(14," Evidencia "),t.qZA(),t.TgZ(15,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showPeso())}),t._uU(16," Peso "),t.qZA(),t.TgZ(17,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showObtenido())}),t._uU(18," % Obte "),t.qZA(),t.TgZ(19,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUtilidad())}),t._uU(20," % Util "),t.qZA(),t.TgZ(21,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showValor())}),t._uU(22," Valor "),t.qZA()()(),t.TgZ(23,"div",42)(24,"div",43)(25,"table",44),t.ynx(26,45),t.YNc(27,H,2,2,"th",46),t.YNc(28,z,2,6,"td",47),t.BQk(),t.ynx(29,48),t.YNc(30,V,2,2,"th",46),t.YNc(31,K,2,6,"td",49),t.BQk(),t.ynx(32,50),t.YNc(33,W,2,2,"th",46),t.YNc(34,X,2,7,"td",49),t.BQk(),t.ynx(35,51),t.YNc(36,tt,2,2,"th",46),t.YNc(37,et,2,4,"td",52),t.BQk(),t.ynx(38,53),t.YNc(39,it,2,2,"th",46),t.YNc(40,ot,2,10,"td",54),t.BQk(),t.ynx(41,55),t.YNc(42,nt,2,2,"th",46),t.YNc(43,rt,2,4,"td",52),t.BQk(),t.ynx(44,56),t.YNc(45,ct,2,2,"th",46),t.YNc(46,st,2,4,"td",52),t.BQk(),t.ynx(47,57),t.YNc(48,lt,2,2,"th",46),t.YNc(49,dt,2,6,"td",58),t.BQk(),t.YNc(50,pt,1,0,"tr",24),t.YNc(51,ut,1,0,"tr",25),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.titulocriterio,""),t.xp6(2),t.Q6J("ngClass",e.verCriterio?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verSubcriterio?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verIndicador?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verEvidencia?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verPeso?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verObtenido?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verUtilidad?"selected":""),t.xp6(2),t.Q6J("ngClass",e.verValor?"selected":""),t.xp6(4),t.Q6J("dataSource",e.datacrite),t.xp6(25),t.Q6J("matHeaderRowDef",e.displayedColumns3),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns3)}}function ht(i,n){1&i&&(t.TgZ(0,"th",66),t._uU(1," Indicadores "),t.qZA())}function _t(i,n){if(1&i&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&i){const e=n.$implicit,o=t.oxw();t.Udp("background-color",o.colores(e.color)),t.xp6(1),t.hij(" ",e.color.toUpperCase()," ")}}function gt(i,n){1&i&&(t.TgZ(0,"th",68),t._uU(1," N\xb0 indi "),t.qZA())}function ft(i,n){if(1&i&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.indica," ")}}function vt(i,n){1&i&&(t.TgZ(0,"th",68),t._uU(1," % "),t.qZA())}function bt(i,n){if(1&i&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.porcentaje,"% ")}}function Ct(i,n){1&i&&t._UZ(0,"tr",64)}function xt(i,n){1&i&&t._UZ(0,"tr",65)}const At={verde:"#00FF00",naranja:"#FFA500",rojo:"#FF0000",amarillo:"#f8f32b"};let Zt=(()=>{class i{chartClicked({event:e,active:o}){console.log(e,o)}chartHovered({event:e,active:o}){console.log(e,o)}constructor(e,o,a){this.modelservices=e,this.httpCriterios=o,this.indi=a,this.title="ng2-charts-demo",this.datacrite=[],this.spans3=[],this.displayedColumns3=["Criterio","Subcriterio","Indicador","Evidencia","Peso","Obtenido","Utilidad","Valor"],this.displayedColumns4=["indicadores","nindi","porcentaje"],this.rowSpanValue=0,this.seleccionados={},this.todosSeleccionados=!1,this.coloresAsignados={},this.verEvidencia=!1,this.verIndicador=!0,this.verPeso=!0,this.verObtenido=!0,this.verUtilidad=!0,this.verValor=!0,this.verSubcriterio=!0,this.verCriterio=!1,this.clic=!1,this.valoresp=[],this.labesCriterios=[],this.datosPOrceCriter=[],this.valores=[],this.coloresTarjetas=[],this.borderStyles=[],this.listain=[],this.indicol=[],this.barChartOptions={responsive:!0,scales:{x:{type:"category",ticks:{autoSkip:!1,maxRotation:45,minRotation:45,color:"black"}},y:{}},plugins:{legend:{display:!0},datalabels:{anchor:"end",align:"end",color:"black"}}},this.barChartType="bar",this.barChartPlugins=[Z.Z],this.barChartData={labels:[],datasets:[{data:[],label:"V/Obtenido",backgroundColor:"rgba(56,116,188,255)"},{data:[],label:"V/por obtener",backgroundColor:"rgba(184,54,51,255)"}]},this.pieChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"top"},datalabels:{formatter:(p,d)=>{if(d.chart.data.labels)return d.chart.data.labels[d.dataIndex]}},tooltip:{callbacks:{label:p=>`${p.raw}%`}}},elements:{arc:{backgroundColor:[]}}},this.pieChartData={labels:[],datasets:[{data:[]}]},this.pieChartType="pie",this.pieChartPlugins=[Z.Z]}ngOnInit(){let e=localStorage.getItem("idM");this.id_modelo=Number(e),console.log("Id modelo aut "+this.id_modelo),this.nombremodelo(),this.listaind(),this.coloresPro(),this.valorespr()}nombremodelo(){this.modelservices.getModeloById(this.id_modelo).subscribe(e=>{this.modeloMaximo=e})}listaind(){this.httpCriterios.getIndicador(this.id_modelo).subscribe(e=>{this.listain=e,this.listain.forEach(o=>{this.coloresTarjetas.push(this.getRandomColor()),this.borderStyles.push(this.getBorderColor(o.faltante-o.total))}),console.log("lista in "+this.listain)})}getRandomColor(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 0.3)`}getBorderColor(e){return`${100*e+"px"} solid ${this.getRandomColor()}`}fetchAndProcessData(e){this.titulocriterio=e,this.datacrite=[],this.spans3=[],this.clic=!0,""===this.titulocriterio&&(this.titulocriterio="ORGANIZACI\xd3N",e="ORGANIZACI\xd3N"),this.httpCriterios.getIdCriterio(e).subscribe(o=>{this.id_criterio=o.id_criterio,console.log("id crti: "+this.id_criterio)}),this.modelservices.getlisdescrite(this.id_modelo,e).subscribe(o=>{this.datacrite=o,this.datacrite.forEach(a=>{typeof this.seleccionados[a.criterionomj]>"u"&&(this.seleccionados[a.criterionomj]=!1)}),this.cacheSpan3("Criterio",a=>a.criterionomj),this.cacheSpan3("Subcriterio",a=>a.criterionomj+a.subcrierioj),this.cacheSpan3("Indicador",a=>a.criterionomj+a.subcrierioj+a.ind_nombrej),this.cacheSpan3("Peso",a=>a.criterionomj+a.subcrierioj+a.ind_nombrej+a.pes),this.cacheSpan3("Obtenido",a=>a.criterionomj+a.subcrierioj+a.ind_nombrej+a.pes+a.obt),this.cacheSpan3("Utilidad",a=>a.criterionomj+a.subcrierioj+a.ind_nombrej+a.pes+a.obt+a.uti),this.cacheSpan3("Valor",a=>a.criterionomj+a.subcrierioj+a.ind_nombrej+a.pes+a.obt+a.uti+a.val),this.cacheSpan3("Evidencia",a=>a.criterionomj+a.subcrierioj+a.ind_nombrej+a.pes+a.obt+a.uti+a.val+a.descrip),setTimeout(()=>{this.aplicar()},0)})}aplicar(){this.datacrite.forEach(e=>{e.randomColor=this.generarColor()}),this.datacrite.forEach(e=>{e.Colores=this.generarColor2()}),this.datacrite.forEach(e=>{e.indicol=this.generarColor3()})}generarColor(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 0.3)`}generarColor2(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 0.3)`}generarColor3(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 0.3)`}cacheSpan3(e,o){for(let a=0;a<this.datacrite.length;){let p=o(this.datacrite[a]),d=1;for(let f=a+1;f<this.datacrite.length&&p===o(this.datacrite[f]);f++)d++;this.spans3[a]||(this.spans3[a]={}),this.spans3[a][e]=d,a+=d}}getRowSpan3(e,o){return this.spans3[o]&&this.spans3[o][e]}showValor(){this.verValor=!this.verValor}showUtilidad(){this.verUtilidad=!this.verUtilidad}showObtenido(){this.verObtenido=!this.verObtenido}showCriterio(){this.verCriterio=!this.verCriterio}showSubcriterio(){this.verSubcriterio=!this.verSubcriterio}showIndicador(){this.verIndicador=!this.verIndicador}showPeso(){this.verPeso=!this.verPeso}showEvidencia(){this.verEvidencia=!this.verEvidencia}getColorcelda(e,o){if(!this.coloresAsignados[e]){const a=Math.floor(256*Math.random()),p=Math.floor(256*Math.random()),d=Math.floor(256*Math.random());this.coloresAsignados[e]=`rgba(${a}, ${p}, ${d}, ${o})`}return this.coloresAsignados[e]}calcularRowSpanValue(e){this.rowSpanValue=this.getRowSpan3("Indicador",e)}colores(e){switch(e){case"verde":return"green";case"amarillo":return"yellow";case"naranja":return"orange";case"rojo":return"red";case"Total":return"gray";default:return"transparent"}}coloresPro(){this.indi.getIndicadorColProjection(this.id_modelo).subscribe(e=>{this.indicol=e,this.pieChartData.datasets[0].data=this.indicol.map(m=>m.porcentaje);const o={rojo:">=0",naranja:">25",amarillo:">50",verde:">75"},a=e.map(m=>m.color);this.pieChartData.labels=a.map(m=>o[m]),null!=this.pieChartOptions?.elements?.arc?.backgroundColor&&(this.pieChartOptions.elements.arc.backgroundColor=this.indicol.map(m=>At[m.color])),this.pieChartData={...this.pieChartData};const p=this.indicol.reduce((m,g)=>m+g.indica,0),d=this.indicol.reduce((m,g)=>m+g.porcentaje,0),f=Math.round(d);this.indicol.push({color:"Total",indica:p,porcentaje:f}),this.indicol.sort((m,g)=>{const C=["verde","amarillo","naranja","rojo","Total"];return C.indexOf(m.color)-C.indexOf(g.color)}),this.tabla=new r.by(this.indicol)})}valorespr(){this.httpCriterios.getvalores(this.id_modelo).subscribe(e=>{this.valoresp=e,console.log("Valores de tabla"+JSON.stringify(this.valoresp)),this.barChartData.labels=this.valoresp.map(o=>o.nomcriterio),this.barChartData.datasets[0].data=this.valoresp.map(o=>o.vlObtenido),this.barChartData.datasets[1].data=this.valoresp.map(o=>o.vlobtener),this.barChartData={...this.barChartData}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y.y),t.Y36(_.X),t.Y36(F.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-reportes"]],viewQuery:function(e,o){if(1&e&&t.Gf(T.jh,5),2&e){let a;t.iGM(a=t.CRH())&&(o.chart=a.first)}},decls:42,vars:15,consts:[["id","enc",1,"content-header"],[1,"container-fluid",2,"border","1px","border-radius","2%"],[1,"row","mb-2"],["id","letra","title","Haga clic para ir al modelo",1,"col-sm-6"],[1,"blockquote","text-dark",2,"margin-top","5%"],["style","border-bottom: thick double #32a1ce;","class","pie-grid","id","indic",4,"ngIf"],[2,"display","flex","border-bottom","thick double #32a1ce"],[2,"flex-basis","70%","border-right","thick double #32a1ce"],["class","imagen",4,"ngIf"],[4,"ngIf"],[1,"barra",2,"flex-basis","30%","margin-top","2%"],[2,"width","100%","height","90%","margin-top","1%"],[2,"width","90%","height","90%"],["id","tit2"],[2,"font-weight","bold"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","indicadores"],["mat-header-cell","","style","background-color: gray;",4,"matHeaderCellDef"],["mat-cell","",3,"background-color",4,"matCellDef"],["matColumnDef","nindi"],["mat-header-cell","","style","background-color: gray; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style"," text-align: center;",4,"matCellDef"],["matColumnDef","porcentaje"],["mat-header-cell","","style","background-color: gray;text-align: center;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"font-weight","bold","margin-left","5%","margin-top","2%"],["baseChart","",1,"chart",3,"data","options","plugins","type","chartClick"],[1,"barra",2,"flex-basis","30%","margin-top","1%"],[2,"font-weight","bold","margin-left","10%"],["baseChart","",1,"chart",3,"data","type","options","plugins"],["id","indic",1,"pie-grid",2,"border-bottom","thick double #32a1ce"],["class","card","title","Haga clic para ver los datos",3,"background-color","border","click",4,"ngFor","ngForOf"],["title","Haga clic para ver los datos",1,"card",3,"click"],[1,"card-content"],[1,"card-name",2,"color","black"],[1,"card-tot"],[1,"imagen"],["src","./assets/LOGO_CUADRADO_SIN FONDO.png","alt","Logo ista"],["id","tit"],[1,"btn-tabs"],["mat-button","",1,"btn-tab",3,"ngClass","click"],[2,"display","flex","margin-bottom","2%"],[1,"mat-elevation-z8","tabla-container"],["mat-table","",3,"dataSource"],["matColumnDef","Criterio"],["mat-header-cell","",3,"display",4,"matHeaderCellDef"],["mat-cell","","style","padding: 4px;  font-size: 12px; ",3,"display","background-color",4,"matCellDef"],["matColumnDef","Subcriterio"],["mat-cell","","style","padding: 4px; font-size: 12px;",3,"background-color","display",4,"matCellDef"],["matColumnDef","Indicador"],["matColumnDef","Peso"],["mat-cell","","style","padding: 4px; font-size: 12px;","class","centrar",3,"display",4,"matCellDef"],["matColumnDef","Obtenido"],["mat-cell","","style","padding: 4px; font-size: 12px;",3,"display","ngClass",4,"matCellDef"],["matColumnDef","Utilidad"],["matColumnDef","Valor"],["matColumnDef","Evidencia"],["mat-cell","","style","padding: 4px; font-size: 12px;","class","scrollable-cell",3,"background-color","display",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",2,"padding","4px","font-size","12px"],["mat-cell","",1,"centrar",2,"padding","4px","font-size","12px"],["mat-cell","",2,"padding","4px","font-size","12px",3,"ngClass"],["mat-cell","",1,"scrollable-cell",2,"padding","4px","font-size","12px"],["mat-header-row",""],["mat-row",""],["mat-header-cell","",2,"background-color","gray"],["mat-cell",""],["mat-header-cell","",2,"background-color","gray","text-align","center"],["mat-cell","",2,"text-align","center"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"blockquote",4)(5,"h1")(6,"strong"),t._uU(7,"MODELO:"),t.qZA(),t._uU(8),t.qZA()()()()()(),t.YNc(9,J,2,1,"div",5),t.TgZ(10,"div",6)(11,"div",7),t.YNc(12,G,2,0,"div",8),t.YNc(13,mt,52,12,"div",9),t.qZA(),t.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"h3",14),t._uU(19,"Estado de los indicadores"),t.qZA()(),t.TgZ(20,"table",15),t.ynx(21,16),t.YNc(22,ht,2,0,"th",17),t.YNc(23,_t,2,3,"td",18),t.BQk(),t.ynx(24,19),t.YNc(25,gt,2,0,"th",20),t.YNc(26,ft,2,1,"td",21),t.BQk(),t.ynx(27,22),t.YNc(28,vt,2,0,"th",23),t.YNc(29,bt,2,1,"td",21),t.BQk(),t.YNc(30,Ct,1,0,"tr",24),t.YNc(31,xt,1,0,"tr",25),t.qZA()()()()(),t.TgZ(32,"div",6)(33,"div",7)(34,"h3",26),t._uU(35,"Grafica de Criterios"),t.qZA(),t.TgZ(36,"canvas",27),t.NdJ("chartClick",function(p){return o.chartClicked(p)}),t.qZA()(),t.TgZ(37,"div",28)(38,"div",11)(39,"h3",29),t._uU(40,"Grafica de Indicadores"),t.qZA(),t._UZ(41,"canvas",30),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",null==o.modeloMaximo?null:o.modeloMaximo.nombre,""),t.xp6(1),t.Q6J("ngIf",o.listain),t.xp6(3),t.Q6J("ngIf",!o.clic),t.xp6(1),t.Q6J("ngIf",o.clic),t.xp6(7),t.Q6J("dataSource",o.tabla),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns4),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns4),t.xp6(5),t.Q6J("data",o.barChartData)("options",o.barChartOptions)("plugins",o.barChartPlugins)("type",o.barChartType),t.xp6(5),t.Q6J("data",o.pieChartData)("type",o.pieChartType)("options",o.pieChartOptions)("plugins",o.pieChartPlugins))},dependencies:[s.mk,s.sg,s.O5,w.lW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,T.jh,s.JJ],styles:[".pie-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px;justify-content:center}.card[_ngcontent-%COMP%]{width:170px;height:170px;background-color:transparent;border-radius:50%;border:8px solid #a7b7e2b9;display:flex;justify-content:center;align-items:center;box-shadow:0 2px 4px #0000001a}.card-content[_ngcontent-%COMP%]{text-align:center;color:#000;font-size:16px;font-weight:700}.card-tot[_ngcontent-%COMP%]{text-align:center;color:#000;font-size:12px}.card-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#000}.btn-tabs[_ngcontent-%COMP%]{display:flex}.btn-tab[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#dca500;color:#000;font-weight:700;transform-origin:top right;transform:skew(-20deg);margin-right:-10px;cursor:pointer;transition:background-color .3s ease-in-out,color .3s ease-in-out}.btn-tab.selected[_ngcontent-%COMP%]{background-color:#044c9b;color:#fff}.tabla-container[_ngcontent-%COMP%]{max-height:750px;overflow-y:auto}.rojo[_ngcontent-%COMP%]{background-color:red;color:#fff;text-align:center}.centrar[_ngcontent-%COMP%]{background-color:#fcfafa;color:#020202;text-align:center}.naranja[_ngcontent-%COMP%]{background-color:orange;color:#fff;text-align:center}.amarillo[_ngcontent-%COMP%]{background-color:#ff0;text-align:center}.verde[_ngcontent-%COMP%]{background-color:green;color:#fff;text-align:center}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;max-height:80%;width:auto;height:auto;display:block;margin:0 auto}.chart[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 7px 25px #00000014;width:100%}.chart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px;font-size:20px;color:#666;text-align:center}"]}),i})();var Tt=c(2802),yt=c(2185),wt=c(3224),A=c(4006),Ut=c(9518);const Rt=["datosModalRef"];function $t(i,n){1&i&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Usuario"),t.qZA())}function Mt(i,n){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.username)}}function Ot(i,n){1&i&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Nombre"),t.qZA())}function Dt(i,n){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(null==e||null==e.persona?null:e.persona.primer_nombre)}}function Pt(i,n){1&i&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Apellido"),t.qZA())}function kt(i,n){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(null==e||null==e.persona?null:e.persona.primer_apellido)}}function St(i,n){1&i&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Correo"),t.qZA())}function It(i,n){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(null==e||null==e.persona?null:e.persona.correo)}}function Nt(i,n){1&i&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Actividades"),t.qZA())}function qt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"button",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.listaAct(p))}),t._uU(2," Ver "),t.qZA()()}}function Yt(i,n){1&i&&t._UZ(0,"mat-header-row")}function jt(i,n){1&i&&t._UZ(0,"mat-row")}function Et(i,n){1&i&&(t.TgZ(0,"mat-header-cell",30),t._uU(1,"C\xf3digo"),t.qZA())}function Qt(i,n){if(1&i&&(t.TgZ(0,"mat-cell",30),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.id_actividad)}}function Lt(i,n){1&i&&(t.TgZ(0,"mat-header-cell",30),t._uU(1,"Nombre"),t.qZA())}function Ft(i,n){if(1&i&&(t.TgZ(0,"mat-cell",30),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.nombre)}}function Bt(i,n){1&i&&(t.TgZ(0,"mat-header-cell",30),t._uU(1,"Fecha Inicio"),t.qZA())}function Jt(i,n){if(1&i&&(t.TgZ(0,"mat-cell",30),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.fecha_inicio)}}function Gt(i,n){1&i&&(t.TgZ(0,"mat-header-cell",30),t._uU(1,"Fecha Fin"),t.qZA())}function Ht(i,n){if(1&i&&(t.TgZ(0,"mat-cell",30),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.fecha_fin)}}function zt(i,n){1&i&&t._UZ(0,"mat-header-row")}function Vt(i,n){1&i&&t._UZ(0,"mat-row")}const U=function(){return[5,10,20]};let Kt=(()=>{class i{constructor(e,o,a,p,d){this.serEvide=e,this.services=o,this.paginatorIntl=a,this.router=p,this.fb=d,this.itemsPerPageLabel="Items por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.rango=(f,m,g)=>{if(0==g||0==m)return`0 de ${g}`;const C=f*m;return`${C+1} - ${C<(g=Math.max(g,0))?Math.min(C+m,g):C+m} de ${g}`},this.searchText="",this.searchTerm="",this.actividades=[],this.responsable=[],this.actividad=new Tt.D,this.dataSource=new r.by(this.responsable),this.dataSource2=new r.by(this.actividades),this.displayedColumns=["Usuario","Nombre","Apellido","Correo","Actividades"],this.displayedColumns2=["C\xf3digo","Nombre","Fecha Inicio","Fecha Fin"],this.filterPost="",this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngAfterViewInit(){console.log("Paginator:",this.paginator),this.paginator&&(this.dataSource.paginator=this.paginator)}ngOnInit(){this.getResponsables()}get(){this.services.get().subscribe(e=>{this.actividades=e,this.filterActividades()})}getResponsables(){this.serEvide.listarsolorespon().subscribe(e=>{this.responsable=e,this.dataSource.data=this.responsable,this.filterActividades(),console.log(this.responsable)})}listaAct(e){this.services.getActByUsua(e.id).subscribe(o=>{this.actividades=o,this.dataSource2.data=this.actividades,console.log(this.actividades)})}filterActividades(){this.filteredActividades=this.responsable.filter(e=>e.username.toLowerCase().includes(this.searchTerm.toLowerCase())||e.persona.primer_nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}aplicarFiltro(){if(this.filterPost){const e=this.filterPost.toLowerCase();this.dataSource.data=this.dataSource.data.filter(o=>JSON.stringify(o).toLowerCase().includes(e))}else this.getResponsables()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(yt.u),t.Y36(wt._),t.Y36(h.ye),t.Y36(l.F0),t.Y36(A.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-actividad-autoridad"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Rt,5),t.Gf(h.NW,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.datosModalRef=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first)}},decls:58,vars:14,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[1,"card"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","name","filterPost3","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange","input"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Usuario"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Nombre"],["matColumnDef","Apellido"],["matColumnDef","Correo"],["matColumnDef","Actividades"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-blue"],[1,"modal-title"],[1,"fas","fa-clipboard"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["matColumnDef","C\xf3digo"],["class","text-center",4,"matHeaderCellDef"],["class","text-center",4,"matCellDef"],["matColumnDef","Fecha Inicio"],["matColumnDef","Fecha Fin"],["type","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-primary",3,"click"],[1,"text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1")(4,"strong"),t._uU(5," LISTADO DE RESPONSABLES "),t.qZA()()(),t._UZ(6,"div"),t.TgZ(7,"div",2)(8,"div",3)(9,"div",4)(10,"input",5),t.NdJ("ngModelChange",function(p){return o.filterPost=p})("input",function(){return o.aplicarFiltro()}),t.qZA()(),t.TgZ(11,"table",6),t.ALo(12,"buscar"),t.ynx(13,7),t.YNc(14,$t,2,0,"mat-header-cell",8),t.YNc(15,Mt,2,1,"mat-cell",9),t.BQk(),t.ynx(16,10),t.YNc(17,Ot,2,0,"mat-header-cell",8),t.YNc(18,Dt,2,1,"mat-cell",9),t.BQk(),t.ynx(19,11),t.YNc(20,Pt,2,0,"mat-header-cell",8),t.YNc(21,kt,2,1,"mat-cell",9),t.BQk(),t.ynx(22,12),t.YNc(23,St,2,0,"mat-header-cell",8),t.YNc(24,It,2,1,"mat-cell",9),t.BQk(),t.ynx(25,13),t.YNc(26,Nt,2,0,"mat-header-cell",8),t.YNc(27,qt,3,0,"mat-cell",9),t.BQk(),t.YNc(28,Yt,1,0,"mat-header-row",14),t.YNc(29,jt,1,0,"mat-row",15),t.qZA(),t._UZ(30,"mat-paginator",16),t.qZA()()(),t.TgZ(31,"div",17)(32,"div",18)(33,"div",19)(34,"div",20)(35,"h3",21),t._UZ(36,"i",22),t._uU(37,"Actividades Asignadas "),t.qZA(),t._UZ(38,"button",23),t.qZA(),t.TgZ(39,"div",2)(40,"div",3),t._UZ(41,"br"),t.TgZ(42,"table",6),t.ynx(43,24),t.YNc(44,Et,2,0,"mat-header-cell",25),t.YNc(45,Qt,2,1,"mat-cell",26),t.BQk(),t.ynx(46,10),t.YNc(47,Lt,2,0,"mat-header-cell",25),t.YNc(48,Ft,2,1,"mat-cell",26),t.BQk(),t.ynx(49,27),t.YNc(50,Bt,2,0,"mat-header-cell",25),t.YNc(51,Jt,2,1,"mat-cell",26),t.BQk(),t.ynx(52,28),t.YNc(53,Gt,2,0,"mat-header-cell",25),t.YNc(54,Ht,2,1,"mat-cell",26),t.BQk(),t.YNc(55,zt,1,0,"mat-header-row",14),t.YNc(56,Vt,1,0,"mat-row",15),t.qZA(),t._UZ(57,"mat-paginator",16),t.qZA()()()()()()),2&e&&(t.xp6(10),t.Q6J("ngModel",o.filterPost),t.xp6(1),t.Q6J("dataSource",t.xi3(12,9,o.dataSource,o.filterPost)),t.xp6(17),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(12,U)),t.xp6(12),t.Q6J("dataSource",o.dataSource2),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns2),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns2),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(13,U)))},dependencies:[A.Fj,A.JJ,A.On,h.NW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,Ut.o],styles:["body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"]}),i})();var Wt=c(5412),R=c(3546);function Xt(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-card",3)(2,"mat-card-content")(3,"div",4)(4,"h3")(5,"b"),t._uU(6),t.qZA()()(),t.TgZ(7,"button",5),t.NdJ("click",function(){const p=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.irDetalle(p))}),t._uU(8,"Ver Contenido"),t.qZA()()(),t._UZ(9,"br"),t.BQk()}if(2&i){const e=n.$implicit;t.xp6(6),t.Oqu(e.nombre)}}const te=[{path:"consulta",component:L,pathMatch:"full",canActivate:[u]},{path:"reporte",component:Zt,pathMatch:"full",canActivate:[u]},{path:"actividad_auto",component:Kt,pathMatch:"full",canActivate:[u]},{path:"graficosAutor",component:(()=>{class i{constructor(e,o,a){this.dialog=e,this.router=o,this.modeloService=a,this.datasource=[]}ngOnInit(){this.modeloService.listarModelo().subscribe(e=>{this.datasource=e})}irDetalle(e){localStorage.setItem("idM",e.id_modelo.toString()),console.log(e.id_modelo),this.router.navigate(["/aut/reporte"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Wt.uw),t.Y36(l.F0),t.Y36(y.y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-graficos"]],decls:7,vars:1,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[4,"ngFor","ngForOf"],[1,"mi-card"],[1,"item"],["mat-button","","id","my-button",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1")(4,"strong"),t._uU(5," LISTADO DE MODELOS"),t.qZA()()(),t.YNc(6,Xt,10,1,"ng-container",2),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",o.datasource))},dependencies:[s.sg,w.lW,R.a8,R.dn],styles:["body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"]}),i})(),pathMatch:"full",canActivate:[u]}];let ee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.Bz.forChild(te),l.Bz]}),i})();var ie=c(1327);let ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[s.ez,ee,ie.m]}),i})()},3224:(x,v,c)=>{c.d(v,{_:()=>b});var s=c(5567),l=c(4650),t=c(529);let b=(()=>{class u{constructor(r){this.http=r}search(r){return this.http.get(`${s.Z}/api/actividad/buscar/?nombre=${r}`)}get(){return this.http.get(`${s.Z}/api/actividad/listarv`)}getAc(r){return this.http.get(`${s.Z}/api/actividad/listaractiv/${r}`)}crear(r){return this.http.post(`${s.Z}/api/actividad/crear`,r)}getActividadrechazada(r){return this.http.get(`${s.Z}/api/actividad/actividadatrasa/${r}`)}getActividadaprobada(r){return this.http.get(`${s.Z}/api/actividad/actividadaprobada/${r}`)}getActividadpendiente(r){return this.http.get(`${s.Z}/api/actividad/actividadpendiente/${r}`)}update(r,_){return console.log(_),this.http.put(`${s.Z}/api/actividad/actualizar/${r}`,_)}eliminar(r){return this.http.put(`${s.Z}/api/actividad/eliminarlogic/${r.id_actividad}`,r)}geteviasig(r){return this.http.get(`${s.Z}/api/actividad/buscarusuario/${r}`)}getactivievid(r,_){return this.http.get(`${s.Z}/api/actividad/activevid/${r}/${_}`)}createObservacion(r){return this.http.post(`${s.Z}/api/observacion/crear`,r)}getObservacionByActi(r){return this.http.get(`${s.Z}/api/observacion/buscarObserByActiv/`+r)}eliminarObser(r){return console.log(r),this.http.put(`${s.Z}/api/observacion/eliminarlogic/${r}`,r)}getEviAsig(r){return this.http.get(`${s.Z}/api/actividad/buscarporEvide/${r}`)}getActByUsua(r){return this.http.get(`${s.Z}/api/actividad/buscarByUsuario/${r}`)}getActUsu(r){return this.http.get(`${s.Z}/api/actividad/buscaractiv/${r}`)}getObservaciones(r){return this.http.get(`${s.Z}/api/observacion/obseractividad/${r}`)}}return u.\u0275fac=function(r){return new(r||u)(l.LFG(t.eN))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2185:(x,v,c)=>{c.d(v,{u:()=>b});var s=c(529),l=c(5567),t=c(4650);let b=(()=>{class u{constructor(r){this.http=r,this.evidenciaObj=[],this.httpHeaders=new s.WM({"Content-Type":"application/json"})}crear(r){return this.http.post(`${l.Z}/api/evidencia/crear`,r)}actualizar(r,_){return this.http.put(`${l.Z}/api/evidencia/actualizar/${r}`,_)}getEvidencias(){return this.http.get(`${l.Z}/api/evidencia/listarv`)}getEvidenciasAdmin(r){return this.http.get(`${l.Z}/api/evidencia/listarvAsigna/${r}`)}getEvidenciaCrite(r){return this.http.get(`${l.Z}/api/evidencia/evicriterio/${r}`)}eliminarEvidencia(r){return this.http.put(`${l.Z}/api/evidencia/eliminarlogic/${r.id_evidencia}`,r)}getEvidenciaIndicador(r){return this.http.get(`${l.Z}/api/evidencia/listarIndicador/${r}`)}getAsignacionUsuario(r){return this.http.get(`${l.Z}/api/asignacionevidencia/listarEviUsua/`+r)}geteviasig(r){return this.http.get(`${l.Z}/api/evidencia/buscarev/${r}`)}getevilist(r){return this.http.get(`${l.Z}/api/evidencia/evidenuser/${r}`)}getevical(r,_){return this.http.get(`${l.Z}/api/evidencia/evidenciacal/${r}/${_}`)}getevitab(r){return this.http.get(`${l.Z}/api/evidencia/eviasigtab/${r}`)}geteviadmin(r){return this.http.get(`${l.Z}/api/evidencia/eviasigadmin/${r}`)}listarUsuario(){return this.http.get(`${l.Z}/usuarios/listarResDatos`)}geteviaprobada(r){return this.http.get(`${l.Z}/api/evidencia/evidenciaprobada/${r}`)}getevirechazada(r){return this.http.get(`${l.Z}/api/evidencia/evidenciarechazada/${r}`)}getEvidenciaPorIndicador(r){return this.http.get(`${l.Z}/api/evidencia/listarEvidenciaPorIndicador/${r}`)}buscar(r){return this.http.get(`${l.Z}/api/evidencia/buscar/${r}`)}listarUsuarioRes(){return this.http.get(`${l.Z}/usuarios/listarResponsableAdmin`)}listarsolorespon(){return this.http.get(`${l.Z}/usuarios/listarsoloResponsables`)}}return u.\u0275fac=function(r){return new(r||u)(t.LFG(s.eN))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9518:(x,v,c)=>{c.d(v,{o:()=>l});var s=c(4650);let l=(()=>{class t{transform(u,h){return u?h?(h=h.toLowerCase(),u.filter(r=>JSON.stringify(r).toLowerCase().includes(h))):u:null}}return t.\u0275fac=function(u){return new(u||t)},t.\u0275pipe=s.Yjl({name:"buscar",type:t,pure:!0}),t})()}}]);