"use strict";(self.webpackChunksistema_security=self.webpackChunksistema_security||[]).push([[655],{7655:(Ra,Ze,u)=>{u.r(Ze),u.d(Ze,{ModeloModule:()=>Oa});var Z=u(6895),y=u(1635),K=u(5402),E=u(6884),v=u(7340),f=u(5412),Je=u(4411),ae=u(9808);class $e{constructor(){this.id_asignacion=0,this.usuario=new Je.r,this.criterio=new ae.v,this.visible=!0,this.id_modelo=0}}var Le=u(285),e=u(4650),ge=u(4120),Fe=u(1818),Be=u(5763),he=u(4004),S=u(5567),ye=u(529);let _e=(()=>{class o{constructor(t){this.httpClient=t}listarUsuario(){return this.httpClient.get(`${S.Z}/usuarios/listar`).pipe((0,he.U)(t=>t))}listarCriterios(){return this.httpClient.get(`${S.Z}/api/criterio/listar`).pipe((0,he.U)(t=>t))}createAsigna(t){return this.httpClient.post(`${S.Z}/api/asignacion_admin/crear`,t)}listarAsignarResponsable(){return this.httpClient.get(`${S.Z}/api/asignacion_admin/listar`).pipe((0,he.U)(t=>t))}updateAsigna(t){return this.httpClient.put(`${S.Z}/api/asignacion_admin/actualizar/`+t.id_asignacion,t)}deleteAsigna(t){return this.httpClient.delete(`${S.Z}/api/asignacion_admin/eliminar/`+t.id_asignacion)}getAsignacionId(t){return this.httpClient.get(`${S.Z}/api/asignacion_admin/buscar/`+t)}listarAsignacion_AdminPorUsuario(t,n){return this.httpClient.get(`${S.Z}/api/asignacion_admin/listarAsignacion_AdminPorUsuario/${t}/${n}`)}createAsignacion_Admin(t){return this.httpClient.post(`${S.Z}/api/asignacion_admin/crear`,t)}listarAsignacion_AdminPorUsuarioCriterio(t,n){return this.httpClient.get(`${S.Z}/api/asignacion_admin/listarAsignacion_AdminPorUsuarioCriterio/${t}/${n}`)}updateAsignacion_Admin(t,n){return this.httpClient.put(`${S.Z}/api/asignacion_admin/actualizarAgregado/${t}`,n)}deleteAsignacion_Admin(t){return this.httpClient.put(`${S.Z}/api/asignacion_admin/eliminarlogic/${t}`,t)}nombre_Admin(t,n){return this.httpClient.get(`${S.Z}/api/asignacion_admin/listarnombre_admin/${t}/${n}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ye.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var U=u(4859),I=u(9549),je=u(4385),We=u(3238);function ze(o,i){if(1&o&&(e.TgZ(0,"mat-option",6),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",(null==t||null==t.persona?null:t.persona.primer_apellido)+" "+(null==t||null==t.persona?null:t.persona.segundo_apellido)+" "+(null==t||null==t.persona?null:t.persona.primer_nombre)+" "+(null==t||null==t.persona?null:t.persona.segundo_nombre)," ")}}let He=(()=>{class o{constructor(t,n,a,r,l,s){this.login=t,this.notificationService=n,this.usuarioService=a,this.asignacionCriterio=r,this.dialogRef=l,this.data=s,this.nombrecrit="",this.valorSeleccionado=0,this.lista=[],this.noti=new Le.U,this.user=null,this.idusuario=null,this.nombre=null}ngOnInit(){this.user=this.login.getUser(),this.id_modelo=this.data.modelo,this.nombrecrit=this.data.nombre,console.log("ID modelo recibido: "+this.id_modelo),this.usuarioService.listarAdminDatos().subscribe(t=>{this.datasource=t,console.log(this.datasource)}),console.log("id criterio"+this.data.id),this.asignacionCriterio.nombre_Admin(this.id_modelo,this.data.id).subscribe(t=>{this.nombreadmin=null==t?"Sin asignacion":"Asignado a: "+t.nombreaa}),this.asignacionCriterio.listarAsignacion_AdminPorUsuario(this.data.id,this.id_modelo).subscribe(t=>{null!=t&&(this.lista.push(t),this.valorSeleccionado=this.lista[0].usuario.id,console.log(this.lista[0].usuario.id))})}notificaruser(){this.noti.fecha=new Date,this.noti.rol="",this.noti.mensaje=this.user?.persona?.primer_nombre+" "+this.user?.persona?.primer_apellido+" te ha asignado el criterio "+this.data.nombre,this.noti.visto=!1,this.noti.usuario=this.idusuario,this.noti.url="/use/user-dashboard",this.noti.idactividad=0,console.log("El nombre es "+this.nombre),this.notificationService.crear(this.noti).subscribe(t=>{this.noti=t,console.log("Notificacion guardada")},t=>{console.error("No se pudo guardar la notificaci\xf3n",t)})}guardar(){console.log("Valores criterio "+this.data.id+" usuario id"+this.valorSeleccionado+"modelo "+this.id_modelo),this.asignacionCriterio.listarAsignacion_AdminPorUsuarioCriterio(this.data.id,this.id_modelo).subscribe(t=>{null!==t?(this.asignacion=t,console.log("Datos antiguos"+this.asignacion),this.asignacion.visible=!1,this.asignacionCriterio.updateAsignacion_Admin(this.asignacion.id_asignacion,this.asignacion).subscribe(n=>{console.log("actualizo datos"+n),this.crearAsignacion(),this.dialogRef.close({data:"Succes"})})):this.crearAsignacion()}),this.idusuario=this.valorSeleccionado,this.nombre=this.data.nombre,console.log("iduser"+this.idusuario)}crearAsignacion(){this.asignacion=new $e,this.asignacion.usuario.id=this.valorSeleccionado,this.asignacion.criterio.id_criterio=this.data.id,this.asignacion.visible=!0,this.asignacion.id_modelo=this.id_modelo,console.log("Datos de asignacion recibido: "+JSON.stringify(this.asignacion)),this.asignacionCriterio.createAsignacion_Admin(this.asignacion).subscribe(t=>{console.log("Datos de asignacion: "+JSON.stringify(t)),this.notificaruser(),this.dialogRef.close({data:"Succes"})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ge.r),e.Y36(Fe.U),e.Y36(Be.i),e.Y36(_e),e.Y36(f.so),e.Y36(f.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-asignar-criterio"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Asignar Administrador"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"mat-form-field")(6,"mat-label"),e._uU(7,"Seleccionar"),e.qZA(),e.TgZ(8,"mat-select",1),e.NdJ("valueChange",function(r){return n.valorSeleccionado=r}),e.YNc(9,ze,2,2,"mat-option",2),e.qZA()()(),e.TgZ(10,"mat-dialog-actions",3)(11,"button",4),e._uU(12,"Cancelar"),e.qZA(),e.TgZ(13,"button",5),e.NdJ("click",function(){return n.guardar()}),e._uU(14,"Guardar"),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(n.nombreadmin),e.xp6(4),e.Q6J("value",n.valorSeleccionado),e.xp6(1),e.Q6J("ngForOf",n.datasource))},dependencies:[Z.sg,U.lW,I.KE,I.hX,je.gD,We.ey,f.ZT,f.uh,f.xY,f.H8]}),o})();var Ge=u(5226),T=u.n(Ge),k=u(8739),c=u(3626),$=u(9921),re=u(2068),le=u(404),j=u(6493),ee=u(2986),W=u(1679),Ve=u(950),z=u(7392);function Xe(o,i){if(1&o&&(e.TgZ(0,"div",6)(1,"table")(2,"tr")(3,"td")(4,"b"),e._uU(5,"ID:"),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA()(),e.TgZ(8,"tr")(9,"td")(10,"b"),e._uU(11,"NOMBRE:"),e.qZA()(),e.TgZ(12,"td"),e._uU(13),e.qZA()(),e.TgZ(14,"tr")(15,"td")(16,"b"),e._uU(17,"FECHA INICIO:"),e.qZA()(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"tr")(22,"td")(23,"b"),e._uU(24,"FECHA FIN:"),e.qZA()(),e.TgZ(25,"td"),e._uU(26),e.ALo(27,"date"),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(7),e.Oqu(t.model.id_modelo),e.xp6(6),e.Oqu(t.model.nombre),e.xp6(6),e.Oqu(e.xi3(20,4,t.model.fecha_inicio,"dd/MM/yyyy")),e.xp6(7),e.Oqu(e.xi3(27,7,t.model.fecha_fin,"dd/MM/yyyy"))}}function Ke(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.irPonderacionModelo(a.model))}),e.TgZ(1,"mat-icon",16),e._uU(2,"assignment"),e.qZA()()}}function et(o,i){if(1&o&&(e.TgZ(0,"div",12)(1,"b",13),e._uU(2,"IR A PONDERACION DEL MODELO "),e.qZA(),e.YNc(3,Ke,3,0,"button",14),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.ocultarBoton)}}function tt(o,i){1&o&&e.GkF(0)}function ot(o,i){if(1&o&&(e.TgZ(0,"th",34),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(n.columnNames[t])}}function nt(o,i){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw().$implicit;e.xp6(1),e.Oqu(t[n])}}function it(o,i){1&o&&(e.ynx(0,32),e.YNc(1,ot,2,1,"th",33),e.YNc(2,nt,2,1,"td",22),e.BQk()),2&o&&e.s9C("matColumnDef",i.$implicit)}function at(o,i){1&o&&(e.TgZ(0,"th",36),e._uU(1," Detalle Subcriterios "),e.qZA())}function rt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.mostrar(r))}),e.TgZ(2,"mat-icon",16),e._uU(3,"info"),e.qZA()()()}}function lt(o,i){1&o&&(e.TgZ(0,"th",36),e._uU(1," Matriz de Evaluaci\xf3n "),e.qZA())}function ct(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",15),e.NdJ("click",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.evaluacion(a,l))}),e.TgZ(2,"mat-icon",16),e._uU(3,"check_circle"),e.qZA()()()}}function st(o,i){1&o&&(e.TgZ(0,"th",36),e._uU(1," Ponderaci\xf3n "),e.qZA())}function dt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",15),e.NdJ("click",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.ponderacionCriterio(a,l))}),e.TgZ(2,"mat-icon",16),e._uU(3,"assignment"),e.qZA()()()}}function mt(o,i){1&o&&(e.TgZ(0,"th",36),e._uU(1," Asignaci\xf3n "),e.qZA())}function ut(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",15),e.NdJ("click",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.asignar_criterio(a,l))}),e.TgZ(2,"mat-icon",16),e._uU(3,"account_box"),e.qZA()()()}}function pt(o,i){if(1&o&&e._UZ(0,"td",35),2&o){const t=e.oxw(2);e.uIk("colspan",t.columnsToDisplayWithExpand.length)}}function gt(o,i){1&o&&e._UZ(0,"tr",37)}function ht(o,i){1&o&&e._UZ(0,"tr",38)}function _t(o,i){1&o&&e._UZ(0,"tr",39)}function ft(o,i){1&o&&e.GkF(0)}const bt=function(){return["expandedDetail"]},vt=function(){return[5,10,20]};function Ct(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"table",18),e.YNc(2,it,3,1,"ng-container",19),e.ynx(3,20),e.YNc(4,at,2,0,"th",21),e.YNc(5,rt,4,0,"td",22),e.BQk(),e.ynx(6,23),e.YNc(7,lt,2,0,"th",21),e.YNc(8,ct,4,0,"td",22),e.BQk(),e.ynx(9,24),e.YNc(10,st,2,0,"th",21),e.YNc(11,dt,4,0,"td",22),e.BQk(),e.ynx(12,25),e.YNc(13,mt,2,0,"th",21),e.YNc(14,ut,4,0,"td",22),e.BQk(),e.ynx(15,26),e.YNc(16,pt,1,1,"td",22),e.BQk(),e.YNc(17,gt,1,0,"tr",27),e.YNc(18,ht,1,0,"tr",28),e.YNc(19,_t,1,0,"tr",29),e.qZA(),e._UZ(20,"mat-paginator",30),e.qZA(),e.TgZ(21,"div",17),e.YNc(22,ft,1,0,"ng-container",31),e.qZA()),2&o){const t=e.oxw(),n=e.MAs(20);e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(1),e.Q6J("ngForOf",t.columnsToDisplay),e.xp6(15),e.Q6J("matHeaderRowDef",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(8,bt)),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(9,vt)),e.xp6(2),e.Q6J("ngIf",1===t.mostrarSecundario)("ngIfThen",n)}}function xt(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"ID"),e.qZA())}function Tt(o,i){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.contador," ")}}function wt(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Fecha de Reporte"),e.qZA())}function Dt(o,i){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.fechapo,"dd-MM-yyyy")," ")}}function Mt(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Reporte"),e.qZA())}function Zt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.pond(r))}),e.TgZ(2,"mat-icon",16),e._uU(3,"assignment"),e.qZA()()()}}function yt(o,i){1&o&&(e.TgZ(0,"th",34),e._uU(1,"Eliminar"),e.qZA())}function St(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.elimin(r))}),e.TgZ(2,"mat-icon",16),e._uU(3,"delete"),e.qZA()()()}}function At(o,i){1&o&&e._UZ(0,"tr",37)}function kt(o,i){1&o&&e._UZ(0,"tr",46)}function Pt(o,i){if(1&o&&(e.TgZ(0,"blockquote",1)(1,"h1",2)(2,"strong"),e._uU(3,"Reportes ponderacion "),e.qZA()()(),e.TgZ(4,"table",40),e.ynx(5,41),e.YNc(6,xt,2,0,"th",33),e.YNc(7,Tt,2,1,"td",22),e.BQk(),e.ynx(8,42),e.YNc(9,wt,2,0,"th",33),e.YNc(10,Dt,3,4,"td",22),e.BQk(),e.ynx(11,43),e.YNc(12,Mt,2,0,"th",33),e.YNc(13,Zt,4,0,"td",22),e.BQk(),e.ynx(14,44),e.YNc(15,yt,2,0,"th",33),e.YNc(16,St,4,0,"td",22),e.BQk(),e.YNc(17,At,1,0,"tr",27),e.YNc(18,kt,1,0,"tr",45),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("dataSource",t.dataSourcePonderacion),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let Ut=(()=>{class o{constructor(t,n,a,r,l,s,m,d,p,g,_){this.route=t,this.modeloService=n,this.criterioService=a,this.subcriterioService=r,this.indicadorService=l,this.asignacionIndicadorService=s,this.sharedDataService=m,this.router=d,this.paginatorIntl=p,this.dialog=g,this.ponderacionService=_,this.itemsPerPageLabel="Criterios por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.rango=(C,x,D)=>{if(0==D||0==x)return`0 de ${D}`;const M=C*x;return`${M+1} - ${M<(D=Math.max(D,0))?Math.min(M+x,D):M+x} de ${D}`},this.dataSource=new c.by,this.columnNames={nombrecriterio:"Nombre del Criterio",descripcio:"Descripci\xf3n del Criterio"},this.ponderar={fecha:"Fecha de Ponderaci\xf3n"},this.pageSize=10,this.pageIndex=0,this.columnsToDisplay=["nombrecriterio","descripcio"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"subcriterios","matriz","ponderacion","asignar"],this.model=new E.Z,this.mostrarPrincipal=0,this.mostrarSecundario=0,this.contador=0,this.idmodelo=0,this.dataSourcePonderacion2=[],this.columnsToDisplayPonderacion=["fecha"],this.columnsToDisplayWithExpandPonderacion=[...this.columnsToDisplayPonderacion,"revisar"],this.displayedColumns=["contador","fecha","revisar","eliminar"],this.fechas=[],this.fechasfinal=[],this.ocultarBoton=!1,this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngAfterViewInit(){this.dataSource.paginator=this.paginator||null}ngOnInit(){this.model=history.state.modelo,this.idmodelo=this.model.id_modelo,console.log("Modelo a ver"+this.model.id_modelo),this.recibeModelo(),localStorage.removeItem("datopasado")}elimin(t){T().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.ponderacionService.getEliminar(t.contador,t.fechapo).subscribe(()=>{this.recibeModelo(),console.log("Registro eliminado exitosamente.")},a=>{console.error("Error al eliminar el registro:",a)})})}onPageChange(t){this.pageIndex=t.pageIndex,this.updateDataSource()}updateDataSource(){const t=this.pageIndex*this.pageSize;this.dataSource=new c.by(this.dataSource.data.slice(t,t+this.pageSize))}recibeModelo(){this.mostrarPrincipal=0,this.mostrarSecundario=0,this.ocultarBoton=!1,this.ponderacionService.listarPonderacionPorModelo(this.idmodelo).subscribe(t=>{t.length>0&&(this.mostrarSecundario=1),this.dataSourcePonderacion=t}),this.asignacionIndicadorService.getasignacriterio(Number(this.model.id_modelo)).subscribe(t=>{this.dataSource.data=[],this.asignacion=t,this.dataSource.data=t,console.log("datos "+JSON.stringify(this.dataSource.data))})}irPonderacionModelo(t){localStorage.setItem("id",t.id_modelo.toString()),this.model=t,this.router.navigate(["/sup/ponderacion/ponderacion-modelo"],{state:{modelo:this.model}})}ponderacionCriterio(t,n){t.stopPropagation(),this.router.navigate(["/sup/ponderacion/ponderacion-criterio"],{state:{criterio:n,modelo:this.model}})}mostrar(t){this.router.navigate(["/sup/modelo/detalle-subcriterio"],{state:{data:t.idcriterio,modelo:this.model}})}evaluacion(t,n){t.stopPropagation(),this.router.navigate(["/sup/modelo/matriz-evaluacion"],{state:{criterio:n,modelo:this.model}})}ponderacion(t,n){t.stopPropagation(),this.sharedDataService.agregarIdCriterio(n.idcriterio)}pond(t){let n=t.fechapo;localStorage.setItem("contador",t.contador),this.router.navigate(["/sup/ponderacion/ponderacion-modelo"],{state:{fecha:n,conf:1,modelo:this.model,contador:t.contador}})}irinicio(){this.router.navigate(["/sup/modelo/modelo"])}asignar_criterio(t,n){t.stopPropagation();const a=localStorage.getItem("id");console.log("Id modelo a asignar"+a+" id criterio "+n.idcriterio+" nombre "+n.nombrecriterio),this.dialog.open(He,{width:"45%",data:{id:n.idcriterio,modelo:a,nombre:n.nombrecriterio}}).afterClosed().subscribe(l=>{l&&"Succes"===l.data&&T().fire({position:"center",icon:"success",title:"Criterio asignado correctamente",showConfirmButton:!1,timer:1500})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.gz),e.Y36($.y),e.Y36(re.X),e.Y36(le.j),e.Y36(j.Q),e.Y36(ee.v),e.Y36(W.g),e.Y36(y.F0),e.Y36(k.ye),e.Y36(f.uw),e.Y36(Ve.W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle-modelo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(c.BZ,5),e.Gf(k.NW,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.table=a.first),e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:21,vars:6,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[2,"text-transform","uppercase"],[2,"cursor","pointer",3,"click"],[1,"container","contenerdor"],[1,"row"],[1,"col-md-6"],["class","col-md-6",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["template1",""],["template2",""],[1,"d-flex","align-items-center"],[2,"padding-right","2%"],["mat-icon-button","","class","boton",3,"click",4,"ngIf"],["mat-icon-button","",1,"boton",3,"click"],[1,"iconoB"],[1,"table-container"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","subcriterios"],["mat-header-cell","","aria-label","row actions","class","center-encabezado",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","matriz"],["matColumnDef","ponderacion"],["matColumnDef","asignar"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[4,"ngIf","ngIfThen"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions",1,"center-encabezado"],["mat-header-row",""],["mat-row","",1,"example-element-row"],["mat-row","",1,"example-detail-row"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contador"],["matColumnDef","fecha"],["matColumnDef","revisar"],["matColumnDef","eliminar"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1",2)(4,"strong")(5,"a",3),e.NdJ("click",function(){return n.irinicio()}),e._uU(6,"Modelos "),e.qZA(),e._uU(7," > "),e.TgZ(8,"a"),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"div",6),e.YNc(13,Xe,28,10,"div",7),e.qZA(),e.TgZ(14,"div",6),e.YNc(15,et,4,1,"div",8),e.qZA()()(),e.YNc(16,tt,1,0,"ng-container",9),e.YNc(17,Ct,23,10,"ng-template",null,10,e.W1O),e.YNc(19,Pt,19,3,"ng-template",null,11,e.W1O),e.qZA()()),2&t){const a=e.MAs(18),r=e.MAs(20);e.xp6(9),e.hij("",n.model.nombre," "),e.xp6(4),e.Q6J("ngIf",n.model),e.xp6(2),e.Q6J("ngIf",n.model),e.xp6(1),e.Q6J("ngIf",0===n.mostrarPrincipal)("ngIfThen",a)("ngIfElse",r)}},dependencies:[Z.sg,Z.O5,U.RK,z.Hw,k.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,Z.uU],styles:[".table-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;overflow-x:auto;max-width:100%}.boton[_ngcontent-%COMP%]{background-color:#0d6efd}.iconoB[_ngcontent-%COMP%]{color:#fff}.center-cell[_ngcontent-%COMP%]{justify-content:center;align-items:center}.center-encabezado[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:grey}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{text-decoration:none}body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"],data:{animation:[(0,v.X$)("detailExpand",[(0,v.SB)("collapsed",(0,v.oB)({height:"0px",minHeight:"0"})),(0,v.SB)("expanded",(0,v.oB)({height:"*"})),(0,v.eR)("expanded <=> collapsed",(0,v.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})();var h=u(4006),fe=u(2271),H=u(8896),be=u(6709);function It(o,i){if(1&o&&(e.TgZ(0,"th",15)(1,"strong"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.columnNames[t])}}function Ot(o,i){if(1&o&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[n]," ")}}function Nt(o,i){1&o&&(e.ynx(0,13),e.YNc(1,It,3,1,"th",14),e.YNc(2,Ot,2,1,"td",5),e.BQk()),2&o&&e.s9C("matColumnDef",i.$implicit)}function Yt(o,i){1&o&&(e.TgZ(0,"th",17),e._uU(1,"\xa0"),e.qZA())}function Et(o,i){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_down"),e.qZA())}function qt(o,i){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_up"),e.qZA())}function Rt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",16)(1,"button",18),e.NdJ("click",function(a){const l=e.CHM(t).$implicit,s=e.oxw();return s.expandedElement=s.expandedElement===l?null:l,e.KtG(a.stopPropagation())})("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.boton(r.id_criterio))}),e.YNc(2,Et,2,0,"mat-icon",19),e.YNc(3,qt,2,0,"mat-icon",19),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.expandedElement!==t),e.xp6(1),e.Q6J("ngIf",n.expandedElement===t)}}function Qt(o,i){if(1&o&&(e.TgZ(0,"th",15)(1,"strong"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(n.columnNamesSub[t])}}function Jt(o,i){if(1&o&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[n]," ")}}function $t(o,i){1&o&&(e.ynx(0,13),e.YNc(1,Qt,3,1,"th",14),e.YNc(2,Jt,2,1,"td",5),e.BQk()),2&o&&e.s9C("matColumnDef",i.$implicit)}function Lt(o,i){1&o&&(e.TgZ(0,"th",17),e._uU(1,"\xa0"),e.qZA())}function Ft(o,i){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_down"),e.qZA())}function Bt(o,i){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_up"),e.qZA())}function jt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",16)(1,"button",18),e.NdJ("click",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2);return s.expandedElement2=s.expandedElement2===l?null:l,e.KtG(a.stopPropagation())})("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.boton2(r.id_subcriterio))}),e.YNc(2,Ft,2,0,"mat-icon",19),e.YNc(3,Bt,2,0,"mat-icon",19),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",n.expandedElement2!==t),e.xp6(1),e.Q6J("ngIf",n.expandedElement2===t)}}function Wt(o,i){if(1&o&&(e.TgZ(0,"th",15)(1,"strong"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(n.columnNamesInd[t])}}function zt(o,i){if(1&o&&(e.TgZ(0,"td",16),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[n]," ")}}function Ht(o,i){1&o&&(e.ynx(0,13),e.YNc(1,Wt,3,1,"th",14),e.YNc(2,zt,2,1,"td",5),e.BQk()),2&o&&e.s9C("matColumnDef",i.$implicit)}function Gt(o,i){1&o&&(e.TgZ(0,"th",17),e._uU(1," \xa0"),e.qZA())}function Vt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",16)(1,"mat-checkbox",22),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.selected=a)})("change",function(){const r=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.toggleSelectAll(r))}),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.Q6J("checked",t.selected)("ngModel",t.selected)}}function Xt(o,i){if(1&o&&e._UZ(0,"td",16),2&o){const t=e.oxw(3);e.uIk("colspan",t.columnsToDisplayWithExpand3.length)}}function Kt(o,i){1&o&&e._UZ(0,"tr",23)}function eo(o,i){if(1&o&&e._UZ(0,"tr",24),2&o){const t=i.$implicit,n=e.oxw(3);e.ekj("example-expanded-row",n.expandedElement3===t)}}function to(o,i){1&o&&e._UZ(0,"tr",25)}const ve=function(){return["expandedDetail"]};function oo(o,i){if(1&o&&(e.TgZ(0,"td",16)(1,"div",20)(2,"table",1),e.YNc(3,Ht,3,1,"ng-container",2),e.ynx(4,3),e.YNc(5,Gt,2,0,"th",4),e.YNc(6,Vt,2,2,"td",5),e.BQk(),e.ynx(7,6),e.YNc(8,Xt,1,1,"td",5),e.BQk(),e.YNc(9,Kt,1,0,"tr",7),e.YNc(10,eo,1,2,"tr",8),e.YNc(11,to,1,0,"tr",9),e.qZA()()()),2&o){const t=i.$implicit,n=e.oxw(2);e.uIk("colspan",n.columnsToDisplayWithExpand2.length),e.xp6(1),e.Q6J("@detailExpand",t==n.expandedElement2?"expanded":"collapsed"),e.xp6(1),e.Q6J("dataSource",n.dataSource3),e.xp6(1),e.Q6J("ngForOf",n.columnsToDisplay3),e.xp6(6),e.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand3),e.xp6(1),e.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand3),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(7,ve))}}function no(o,i){1&o&&e._UZ(0,"tr",23)}function io(o,i){if(1&o&&e._UZ(0,"tr",24),2&o){const t=i.$implicit,n=e.oxw(2);e.ekj("example-expanded-row",n.expandedElement2===t)}}function ao(o,i){1&o&&e._UZ(0,"tr",25)}function ro(o,i){if(1&o&&(e.TgZ(0,"td",16)(1,"div",20)(2,"table",21),e.YNc(3,$t,3,1,"ng-container",2),e.ynx(4,3),e.YNc(5,Lt,2,0,"th",4),e.YNc(6,jt,4,2,"td",5),e.BQk(),e.ynx(7,6),e.YNc(8,oo,12,8,"td",5),e.BQk(),e.YNc(9,no,1,0,"tr",7),e.YNc(10,io,1,2,"tr",8),e.YNc(11,ao,1,0,"tr",9),e.qZA()()()),2&o){const t=i.$implicit,n=e.oxw();e.uIk("colspan",n.columnsToDisplayWithExpand.length),e.xp6(1),e.Q6J("@detailExpand",t==n.expandedElement?"expanded":"collapsed"),e.xp6(1),e.Q6J("dataSource",n.dataSource2),e.xp6(1),e.Q6J("ngForOf",n.columnsToDisplay2),e.xp6(6),e.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand2),e.xp6(1),e.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand2),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(7,ve))}}function lo(o,i){1&o&&e._UZ(0,"tr",23)}function co(o,i){if(1&o&&e._UZ(0,"tr",24),2&o){const t=i.$implicit,n=e.oxw();e.ekj("example-expanded-row",n.expandedElement===t)}}function so(o,i){1&o&&e._UZ(0,"tr",25)}let Ce=[],N=[],Se=(()=>{class o{constructor(t,n,a,r,l,s,m,d,p){this.router=t,this.dialog=n,this.dialogRef=a,this.data=r,this.sharedDataService=l,this._formBuilder=s,this.criterioService=m,this.subcriterioService=d,this.indicadorService=p,this.columnNames={nombre:"CRITERIOS"},this.columnNamesSub={nombre:"SUBCRITERIOS"},this.columnNamesInd={nombre:"INDICADORES"},this.columnsToDisplay=["nombre"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.criterio=new ae.v,this.expandedElement=new ae.v,this.columnsToDisplay2=["nombre"],this.columnsToDisplayWithExpand2=[...this.columnsToDisplay2,"expand"],this.subcriterio=new fe.p,this.expandedElement2=new fe.p,this.columnsToDisplay3=["nombre"],this.columnsToDisplayWithExpand3=[...this.columnsToDisplay3,"expand"],this.indicador=new H.s,this.expandedElement3=new H.s,this.selectAll=!1}ngOnInit(){this.listarCriterios(),this.listarSubcriterios(),console.log(N)}listarCriterios(){this.criterioService.listarCriterio().subscribe(t=>{this.dataSource=t})}listarSubcriterios(){this.subcriterioService.listarSubcriterio().subscribe(t=>{this.dataSource2=t})}boton(t){this.criterio.id_criterio=t,this.subcriterioService.listarSubcriterioPorCriterio(this.criterio.id_criterio).subscribe(n=>{this.dataSource2=n})}boton2(t){this.subcriterio.id_subcriterio=t,this.indicadorService.listarIndicadorPorSubcriterio(this.subcriterio.id_subcriterio).subscribe(n=>{Ce=[],n.forEach(a=>{Ce.push({id_indicador:a.id_indicador,nombre:a.nombre,selected:!1})}),this.dataSource3=Ce,this.dataSource3.forEach(a=>{N.forEach(r=>{a.id_indicador==r.id_indicador&&(a.selected=r.selected)})})})}toggleSelectAll(t){N.forEach(n=>{n.id_indicador==t.id_indicador&&N.splice(N.indexOf(n),1)}),t.selected&&N.push(t),this.dataSource3.forEach(n=>{N.forEach(a=>{n.id_indicador==a.id_indicador&&(n.selected=a.selected)})})}guardar(){this.sharedDataService.agregarDatos(N),console.log(N)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.F0),e.Y36(f.uw),e.Y36(f.so),e.Y36(f.WI),e.Y36(W.g),e.Y36(h.qu),e.Y36(re.X),e.Y36(le.j),e.Y36(j.Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dialogo-criterio"]],decls:21,vars:7,consts:[[1,"blockquote","text-dark",2,"margin-top","1%"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-dialog-close","",1,"btn","btn-warning"],["cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close","click"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"example-element-detail"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",2,"background-color","rgba(233, 232, 231, 0.7)","box-shadow","0px 0px 10px rgba(0, 0, 0, 0.1)",3,"dataSource"],[3,"checked","ngModel","ngModelChange","change"],["mat-header-row",""],["mat-row","",1,"example-element-row"],["mat-row","",1,"example-detail-row"]],template:function(t,n){1&t&&(e._UZ(0,"br"),e.TgZ(1,"blockquote",0)(2,"h1")(3,"strong"),e._uU(4,"Seleccione sus indicadores"),e.qZA()()(),e.TgZ(5,"mat-dialog-content")(6,"table",1),e.YNc(7,Nt,3,1,"ng-container",2),e.ynx(8,3),e.YNc(9,Yt,2,0,"th",4),e.YNc(10,Rt,4,2,"td",5),e.BQk(),e.ynx(11,6),e.YNc(12,ro,12,8,"td",5),e.BQk(),e.YNc(13,lo,1,0,"tr",7),e.YNc(14,co,1,2,"tr",8),e.YNc(15,so,1,0,"tr",9),e.qZA()(),e.TgZ(16,"mat-dialog-actions",10)(17,"button",11),e._uU(18,"Cancelar"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.guardar()}),e._uU(20,"Guardar"),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("dataSource",n.dataSource),e.xp6(1),e.Q6J("ngForOf",n.columnsToDisplay),e.xp6(6),e.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(6,ve)),e.xp6(4),e.Q6J("mat-dialog-close",!0))},dependencies:[Z.sg,Z.O5,U.RK,h.JJ,h.On,z.Hw,f.ZT,f.xY,f.H8,be.oG,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:darkgray}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}.mat-header-cell[_ngcontent-%COMP%]{background-color:#ff0}.mat-header-row[_ngcontent-%COMP%]{background-color:#ff0!important}#my-button[_ngcontent-%COMP%]{background-color:#272e56;color:#fff;margin:10px}"],data:{animation:[(0,v.X$)("detailExpand",[(0,v.SB)("collapsed",(0,v.oB)({height:"0px",minHeight:"0"})),(0,v.SB)("expanded",(0,v.oB)({height:"*"})),(0,v.eR)("expanded <=> collapsed",(0,v.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})();class xe{}var L=u(5423),mo=u(7851);function uo(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tree-node",8),e._UZ(1,"button",9),e.TgZ(2,"mat-checkbox",10),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.checked=a)}),e._uU(3),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("ngModel",t.checked),e.xp6(1),e.Oqu(t.name)}}function po(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tree-node",8)(1,"button",11)(2,"mat-icon",12),e._uU(3),e.qZA()(),e.TgZ(4,"mat-checkbox",10),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.checked=a)}),e._uU(5),e.qZA(),e.TgZ(6,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addSubcriterio())}),e.TgZ(7,"mat-icon"),e._uU(8,"add"),e.qZA()()()}if(2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.uIk("aria-label","Toggle "+t.name),e.xp6(2),e.hij(" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.Q6J("ngModel",t.checked),e.xp6(1),e.Oqu(t.name)}}const go=[{name:"Subcriterio 1",children:[{name:"Indicador 1"},{name:"Indicador 2"},{name:"Indicador 3"}]},{name:"Subcriterio 2",children:[{name:"Indicador 1"},{name:"Indicador 2"},{name:"Indicador 3"}]}];let Ae=(()=>{class o{constructor(){this._transformer=(t,n)=>({expandable:!!t.children&&t.children.length>0,name:t.name,level:n}),this.treeControl=new mo.C2(t=>t.level,t=>t.expandable),this.treeFlattener=new L.JZ(this._transformer,t=>t.level,t=>t.expandable,t=>t.children),this.dataSource=new L.kc(this.treeControl,this.treeFlattener),this.hasChild=(t,n)=>n.expandable,this.dataSource.data=go}addSubcriterio(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dialogo-subcriterio"]],decls:13,vars:4,consts:[["mat-dialog-title",""],["mat-raised-button","","id","my-button"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],[3,"ngModel","ngModelChange"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["mat-icon-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"A\xf1adir Subcriterios"),e.qZA(),e.TgZ(2,"button",1),e._uU(3,"Crear Subcriterio"),e.qZA(),e.TgZ(4,"mat-dialog-content")(5,"mat-tree",2),e.YNc(6,uo,4,2,"mat-tree-node",3),e.YNc(7,po,9,4,"mat-tree-node",4),e.qZA()(),e.TgZ(8,"mat-dialog-actions",5)(9,"button",6),e._uU(10,"Cancelar"),e.qZA(),e.TgZ(11,"button",7),e._uU(12,"Guardar"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("dataSource",n.dataSource)("treeControl",n.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",n.hasChild),e.xp6(4),e.Q6J("mat-dialog-close",!0))},dependencies:[U.lW,U.RK,h.JJ,h.On,z.Hw,f.ZT,f.uh,f.xY,f.H8,L.fQ,L.ah,L.eu,L.gi,L.uo,be.oG],styles:["table[_ngcontent-%COMP%]{width:100%}#my-button[_ngcontent-%COMP%]{background-color:#272e56;color:#fff;margin:10px}"]}),o})();var ke=u(4128),Pe=u(4144),G=u(6257),V=u(9602);function ho(o,i){1&o&&e._uU(0,"Datos Generales")}function _o(o,i){1&o&&(e.TgZ(0,"th",33)(1,"strong"),e._uU(2,"INDICADORES SELECCIONADOS"),e.qZA()())}function fo(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.nombre)}}function bo(o,i){1&o&&e._UZ(0,"tr",35)}function vo(o,i){1&o&&e._UZ(0,"tr",36)}function Co(o,i){if(1&o&&(e.TgZ(0,"div")(1,"table",27),e.ynx(2,28),e.YNc(3,_o,3,0,"th",29),e.YNc(4,fo,2,1,"td",30),e.BQk(),e.YNc(5,bo,1,0,"tr",31),e.YNc(6,vo,1,0,"tr",32),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function xo(o,i){1&o&&(e.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"p",40),e._uU(4,"Copiando modelo..."),e.qZA()()()())}function To(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.copiarmodelo())}),e._uU(1,"Copiar modelo"),e.qZA()}}let wo=[],Do=(()=>{class o{constructor(t,n,a,r,l,s,m,d,p,g){this.login=t,this.asignacionIndicadorService=n,this.dialogRef=a,this._formBuilder=r,this.dialog=l,this.router=s,this.modelo_service=m,this.sharedDataService=d,this.asignacionAdminService=p,this.indicadorService=g,this.copiando=!1,this.isLoggedIn=!1,this.isIdmaxSet=!1,this.modelo=new E.Z,this.indicador=new H.s,this.asignacionIndicador=new xe,this.listaIndicadores=[],this.firstFormGroup=this._formBuilder.group({firstCtrl:["",h.kI.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",h.kI.required]}),this.isLinear=!1,this.displayedColumns=["nombre"]}ngOnInit(){this.sharedDataService.datos$.subscribe(t=>{this.dataSource=wo,this.dataSource=t,console.log(this.dataSource)}),this.isLoggedIn=this.login.isLoggedIn(),this.user=this.login.getUser(),this.login.loginStatusSubjec.asObservable().subscribe(t=>{this.isLoggedIn=this.login.isLoggedIn(),this.user=this.login.getUser()}),console.log(this.user),this.modelo_service.getModeMaximo().subscribe(t=>{this.idmax=t.id_modelo,console.log("id maximo traido"+this.idmax)})}createModelo(){null!=this.modelo.fecha_inicio&&null!=this.modelo.fecha_fin&&null!=this.modelo.fecha_final_act&&null!=this.modelo.nombre&&0!=this.dataSource.length?this.modelo.fecha_inicio>=this.modelo.fecha_fin||this.modelo.fecha_inicio>=this.modelo.fecha_final_act||this.modelo.fecha_fin<=this.modelo.fecha_final_act?T().fire("Error","Las fechas no son correctas porfavor revisar","error"):this.modelo_service.createModelo(this.modelo).subscribe(t=>{console.log(t),this.dataSource.forEach(n=>{this.asignacionIndicador.indicador=n,this.asignacionIndicador.modelo=t,this.asignacionIndicadorService.createAsignacionIndicador(this.asignacionIndicador).subscribe(a=>{console.log(a),this.reiniciarIndicador(),this.bloquearModelo(t.id_modelo),this.sharedDataService.agregarDatos([]),this.dialogRef.close()})})},t=>{400===t.status?T().fire("Error","El modelo actual no puede tener las mismas fechas del modelo anterior.","error"):T().fire("Error","Hay problemas con el servidor.","error")}):T().fire("Error","Debe llenar todos los campos","error")}abrirDialogo(){this.dialog.open(Se,{width:"50%"}).afterClosed().subscribe(n=>{})}addSubcriterio(){this.dialog.open(Ae,{width:"50%",data:{}}).afterClosed().subscribe(n=>{console.log("El di\xe1logo se cerr\xf3")})}reiniciarAdmin(){this.asignacionAdminService.listarAsignarResponsable().subscribe(t=>{t.forEach(n=>{this.asignacionAdminService.deleteAsignacion_Admin(n.id_asignacion).subscribe(a=>{console.log(a)})})})}copiarmodelo(){this.copiando=!0,this.secondFormGroup.get("secondCtrl")?.clearValidators(),this.secondFormGroup.get("secondCtrl")?.updateValueAndValidity(),console.log("id copiado "+this.idmax),this.modelo.fecha_inicio>=this.modelo.fecha_fin||this.modelo.fecha_inicio>=this.modelo.fecha_final_act||this.modelo.fecha_fin<=this.modelo.fecha_final_act?T().fire("Error","Las fechas no son correctas por favor revisar","error"):(this.modelo_service.createModelo(this.modelo).subscribe(t=>{console.log("Guardado datos del nuevo modelo: "+JSON.stringify(t)),this.asignacionIndicadorService.getasignaindi(this.idmax).subscribe(n=>{console.log("Asignaciones de indicadores del \xfaltimo modelo:",JSON.stringify(n));const a=n.map(r=>this.asignacionIndicadorService.createAsignacionIndicador({id_asignacion_indicador:0,modelo:t,indicador:r.indicador}));(0,ke.D)(a).subscribe(r=>{console.log("Todas las asignaciones creadas:",r),this.copiando=!1,this.dialogRef.close(),T().fire("\xc9xito","El modelo se ha copiado correctamente","success")},r=>{console.error("Error al crear las asignaciones:",r),this.copiando=!1})},n=>{console.error("Error al obtener asignaciones de indicadores:",n),this.copiando=!1})},t=>{console.error("Error al crear el nuevo modelo:",t),this.copiando=!1}),this.reiniciarIndicador(),this.secondFormGroup.get("secondCtrl")?.setValidators(h.kI.required),this.secondFormGroup.get("secondCtrl")?.updateValueAndValidity())}reiniciarIndicador(){this.indicadorService.getIndicadores().subscribe(t=>{t.forEach(n=>{n.valor_obtenido=0,n.porc_obtenido=0,n.porc_utilida_obtenida=0,this.indicadorService.ponderarIndicador(n.id_indicador,n).subscribe(a=>{console.log(a)})})})}bloquearModelo(t){this.modelo_service.listarModeloExcepto(t).subscribe(n=>{n.forEach(a=>{this.modelo_service.eliminarlogic(a.id_modelo).subscribe(r=>{console.log(r)})})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ge.r),e.Y36(ee.v),e.Y36(f.so),e.Y36(h.qu),e.Y36(f.uw),e.Y36(y.F0),e.Y36($.y),e.Y36(W.g),e.Y36(_e),e.Y36(j.Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dialogo-modelo"]],decls:59,vars:17,consts:[[1,"blockquote","text-dark",2,"margin-top","1%"],[3,"linear"],["stepper",""],[3,"stepControl"],[2,"width","100%",3,"formGroup"],["matStepLabel",""],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","Nombre del modelo","name","nombre",3,"ngModel","ngModelChange"],[1,"date-fields"],["appearance","fill",1,"date-field"],["matInput","","name","fecha_inicio",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["disabled","false"],["dp1",""],["matInput","","name","fecha_fin",3,"matDatepicker","ngModel","ngModelChange"],["dp2",""],["matInput","","name","fecha_final_act",3,"matDatepicker","ngModel","ngModelChange"],["dp3",""],["label","Configurar modelo",3,"stepControl"],["mat-raised-button","","id","my-button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[4,"ngIf"],["align","end"],["mat-dialog-close","",1,"btn","btn-warning"],["cdkFocusInitial","",1,"btn","btn-primary",3,"click"],["class","fullscreen-spinner",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","style","text-align: center; ",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"text-align","center"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"fullscreen-spinner"],[1,"spinner-overlay"],[1,"spinner"],[1,"spinner-message"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){if(1&t&&(e._UZ(0,"br"),e.TgZ(1,"blockquote",0)(2,"h1")(3,"strong"),e._uU(4,"Creacion del Modelo"),e.qZA()()(),e.TgZ(5,"mat-dialog-content")(6,"mat-stepper",1,2)(8,"mat-step",3)(9,"form",4),e.YNc(10,ho,1,0,"ng-template",5),e._UZ(11,"br"),e.TgZ(12,"form",6)(13,"mat-form-field",7)(14,"mat-label"),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"input",8),e.NdJ("ngModelChange",function(r){return n.modelo.nombre=r}),e.qZA()(),e.TgZ(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Fecha Inicial:"),e.qZA(),e.TgZ(21,"input",11),e.NdJ("ngModelChange",function(r){return n.modelo.fecha_inicio=r}),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"MM/DD/YYYY"),e.qZA(),e._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",13,14),e.qZA(),e.TgZ(27,"mat-form-field",10)(28,"mat-label"),e._uU(29,"Fecha Final:"),e.qZA(),e.TgZ(30,"input",15),e.NdJ("ngModelChange",function(r){return n.modelo.fecha_fin=r}),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"MM/DD/YYYY"),e.qZA(),e._UZ(33,"mat-datepicker-toggle",12)(34,"mat-datepicker",13,16),e.qZA(),e.TgZ(36,"mat-form-field",10)(37,"mat-label"),e._uU(38,"Fin Tareas:"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(r){return n.modelo.fecha_final_act=r}),e.qZA(),e.TgZ(40,"mat-hint"),e._uU(41,"MM/DD/YYYY"),e.qZA(),e._UZ(42,"mat-datepicker-toggle",12)(43,"mat-datepicker",13,18),e.qZA()()()()(),e.TgZ(45,"mat-step",19),e._UZ(46,"br"),e.TgZ(47,"div")(48,"button",20),e.NdJ("click",function(){return n.abrirDialogo()}),e._uU(49," A\xf1adir Indicadores "),e.qZA()(),e._UZ(50,"br"),e.YNc(51,Co,7,3,"div",21),e.qZA()()(),e.TgZ(52,"mat-dialog-actions",22)(53,"button",23),e._uU(54,"Cancelar"),e.qZA(),e.TgZ(55,"button",24),e.NdJ("click",function(){return n.createModelo()}),e._uU(56,"Guardar"),e.qZA(),e.YNc(57,xo,5,0,"div",25),e.YNc(58,To,2,0,"button",26),e.qZA()),2&t){const a=e.MAs(26),r=e.MAs(35),l=e.MAs(44);e.xp6(6),e.Q6J("linear",n.isLinear),e.xp6(2),e.Q6J("stepControl",n.firstFormGroup),e.xp6(1),e.Q6J("formGroup",n.firstFormGroup),e.xp6(7),e.Q6J("ngModel",n.modelo.nombre),e.xp6(5),e.Q6J("matDatepicker",a)("ngModel",n.modelo.fecha_inicio),e.xp6(3),e.Q6J("for",a),e.xp6(6),e.Q6J("matDatepicker",r)("ngModel",n.modelo.fecha_fin),e.xp6(3),e.Q6J("for",r),e.xp6(6),e.Q6J("matDatepicker",l)("ngModel",n.modelo.fecha_final_act),e.xp6(3),e.Q6J("for",l),e.xp6(3),e.Q6J("stepControl",n.secondFormGroup),e.xp6(6),e.Q6J("ngIf",n.dataSource.length>0),e.xp6(6),e.Q6J("ngIf",n.copiando),e.xp6(1),e.Q6J("ngIf",null!==n.idmax&&0!==n.idmax&&void 0!==n.idmax)}},dependencies:[Z.O5,U.lW,I.KE,I.hX,I.bx,I.R9,Pe.Nt,h._Y,h.Fj,h.JJ,h.JL,h.On,h.F,h.sg,f.ZT,f.xY,f.H8,G.C0,G.VY,G.Vq,V.Mq,V.hl,V.nW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:[".fullscreen-spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid #fff;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.spinner-message[_ngcontent-%COMP%]{color:#fff;margin-top:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.example-form[_ngcontent-%COMP%]{min-width:150px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}#my-button[_ngcontent-%COMP%]{background-color:#272e56;color:#fff}#button-dialogue[_ngcontent-%COMP%]{border:#272E56}.date-fields[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.date-field[_ngcontent-%COMP%]{flex-basis:calc(33.33% - 10px);width:calc(33.33% - 10px)}"]}),o})();function ce(o){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}function w(o,i){if(i.length<o)throw new TypeError(o+" argument"+(o>1?"s":"")+" required, but only "+i.length+" present")}function O(o){w(1,arguments);var i=Object.prototype.toString.call(o);return o instanceof Date||"object"===ce(o)&&"[object Date]"===i?new Date(o.getTime()):"number"==typeof o||"[object Number]"===i?new Date(o):(("string"==typeof o||"[object String]"===i)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function F(o){if(null===o||!0===o||!1===o)return NaN;var i=Number(o);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}var Ao=864e5;function se(o){w(1,arguments);var t=O(o),n=t.getUTCDay(),a=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function Ue(o){w(1,arguments);var i=O(o),t=i.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=se(n),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var l=se(r);return i.getTime()>=a.getTime()?t+1:i.getTime()>=l.getTime()?t:t-1}var Uo=6048e5;var Ie={};function de(){return Ie}function me(o,i){var t,n,a,r,l,s,m,d;w(1,arguments);var p=de(),g=F(null!==(t=null!==(n=null!==(a=null!==(r=i?.weekStartsOn)&&void 0!==r?r:null==i||null===(l=i.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==n?n:null===(m=p.locale)||void 0===m||null===(d=m.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var _=O(o),C=_.getUTCDay(),x=(C<g?7:0)+C-g;return _.setUTCDate(_.getUTCDate()-x),_.setUTCHours(0,0,0,0),_}function Oe(o,i){var t,n,a,r,l,s,m,d;w(1,arguments);var p=O(o),g=p.getUTCFullYear(),_=de(),C=F(null!==(t=null!==(n=null!==(a=null!==(r=i?.firstWeekContainsDate)&&void 0!==r?r:null==i||null===(l=i.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:_.firstWeekContainsDate)&&void 0!==n?n:null===(m=_.locale)||void 0===m||null===(d=m.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(g+1,0,C),x.setUTCHours(0,0,0,0);var D=me(x,i),M=new Date(0);M.setUTCFullYear(g,0,C),M.setUTCHours(0,0,0,0);var Y=me(M,i);return p.getTime()>=D.getTime()?g+1:p.getTime()>=Y.getTime()?g:g-1}var No=6048e5;function b(o,i){for(var t=o<0?"-":"",n=Math.abs(o).toString();n.length<i;)n="0"+n;return t+n}const q_y=function(i,t){var n=i.getUTCFullYear(),a=n>0?n:1-n;return b("yy"===t?a%100:a,t.length)},q_M=function(i,t){var n=i.getUTCMonth();return"M"===t?String(n+1):b(n+1,2)},q_d=function(i,t){return b(i.getUTCDate(),t.length)},q_h=function(i,t){return b(i.getUTCHours()%12||12,t.length)},q_H=function(i,t){return b(i.getUTCHours(),t.length)},q_m=function(i,t){return b(i.getUTCMinutes(),t.length)},q_s=function(i,t){return b(i.getUTCSeconds(),t.length)},q_S=function(i,t){var n=t.length,a=i.getUTCMilliseconds();return b(Math.floor(a*Math.pow(10,n-3)),t.length)};function Ne(o,i){var t=o>0?"-":"+",n=Math.abs(o),a=Math.floor(n/60),r=n%60;if(0===r)return t+String(a);var l=i||"";return t+String(a)+l+b(r,2)}function Ye(o,i){return o%60==0?(o>0?"-":"+")+b(Math.abs(o)/60,2):B(o,i)}function B(o,i){var t=i||"",n=o>0?"-":"+",a=Math.abs(o);return n+b(Math.floor(a/60),2)+t+b(a%60,2)}const Ro={G:function(i,t,n){var a=i.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(i,t,n){if("yo"===t){var a=i.getUTCFullYear();return n.ordinalNumber(a>0?a:1-a,{unit:"year"})}return q_y(i,t)},Y:function(i,t,n,a){var r=Oe(i,a),l=r>0?r:1-r;return"YY"===t?b(l%100,2):"Yo"===t?n.ordinalNumber(l,{unit:"year"}):b(l,t.length)},R:function(i,t){return b(Ue(i),t.length)},u:function(i,t){return b(i.getUTCFullYear(),t.length)},Q:function(i,t,n){var a=Math.ceil((i.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return b(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(i,t,n){var a=Math.ceil((i.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return b(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(i,t,n){var a=i.getUTCMonth();switch(t){case"M":case"MM":return q_M(i,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(i,t,n){var a=i.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return b(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(i,t,n,a){var r=function Yo(o,i){w(1,arguments);var t=O(o),n=me(t,i).getTime()-function Oo(o,i){var t,n,a,r,l,s,m,d;w(1,arguments);var p=de(),g=F(null!==(t=null!==(n=null!==(a=null!==(r=i?.firstWeekContainsDate)&&void 0!==r?r:null==i||null===(l=i.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==a?a:p.firstWeekContainsDate)&&void 0!==n?n:null===(m=p.locale)||void 0===m||null===(d=m.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1),_=Oe(o,i),C=new Date(0);return C.setUTCFullYear(_,0,g),C.setUTCHours(0,0,0,0),me(C,i)}(t,i).getTime();return Math.round(n/No)+1}(i,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):b(r,t.length)},I:function(i,t,n){var a=function Io(o){w(1,arguments);var i=O(o),t=se(i).getTime()-function Po(o){w(1,arguments);var i=Ue(o),t=new Date(0);return t.setUTCFullYear(i,0,4),t.setUTCHours(0,0,0,0),se(t)}(i).getTime();return Math.round(t/Uo)+1}(i);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):b(a,t.length)},d:function(i,t,n){return"do"===t?n.ordinalNumber(i.getUTCDate(),{unit:"date"}):q_d(i,t)},D:function(i,t,n){var a=function ko(o){w(1,arguments);var i=O(o),t=i.getTime();i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0);var n=i.getTime();return Math.floor((t-n)/Ao)+1}(i);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):b(a,t.length)},E:function(i,t,n){var a=i.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(i,t,n,a){var r=i.getUTCDay(),l=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return b(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(i,t,n,a){var r=i.getUTCDay(),l=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return b(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(i,t,n){var a=i.getUTCDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return b(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(i,t,n){var r=i.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(i,t,n){var r,a=i.getUTCHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(i,t,n){var r,a=i.getUTCHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(i,t,n){if("ho"===t){var a=i.getUTCHours()%12;return 0===a&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return q_h(i,t)},H:function(i,t,n){return"Ho"===t?n.ordinalNumber(i.getUTCHours(),{unit:"hour"}):q_H(i,t)},K:function(i,t,n){var a=i.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):b(a,t.length)},k:function(i,t,n){var a=i.getUTCHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):b(a,t.length)},m:function(i,t,n){return"mo"===t?n.ordinalNumber(i.getUTCMinutes(),{unit:"minute"}):q_m(i,t)},s:function(i,t,n){return"so"===t?n.ordinalNumber(i.getUTCSeconds(),{unit:"second"}):q_s(i,t)},S:function(i,t){return q_S(i,t)},X:function(i,t,n,a){var l=(a._originalDate||i).getTimezoneOffset();if(0===l)return"Z";switch(t){case"X":return Ye(l);case"XXXX":case"XX":return B(l);default:return B(l,":")}},x:function(i,t,n,a){var l=(a._originalDate||i).getTimezoneOffset();switch(t){case"x":return Ye(l);case"xxxx":case"xx":return B(l);default:return B(l,":")}},O:function(i,t,n,a){var l=(a._originalDate||i).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ne(l,":");default:return"GMT"+B(l,":")}},z:function(i,t,n,a){var l=(a._originalDate||i).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ne(l,":");default:return"GMT"+B(l,":")}},t:function(i,t,n,a){return b(Math.floor((a._originalDate||i).getTime()/1e3),t.length)},T:function(i,t,n,a){return b((a._originalDate||i).getTime(),t.length)}};var Ee=function(i,t){switch(i){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qe=function(i,t){switch(i){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const $o={p:qe,P:function(i,t){var l,n=i.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return Ee(i,t);switch(a){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"})}return l.replace("{{date}}",Ee(a,t)).replace("{{time}}",qe(r,t))}};var Fo=["D","DD"],Bo=["YY","YYYY"];function Re(o,i,t){if("YYYY"===o)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===o)throw new RangeError("Use `yy` instead of `YY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===o)throw new RangeError("Use `d` instead of `D` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===o)throw new RangeError("Use `dd` instead of `DD` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Te(o){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.width?String(i.width):o.defaultWidth;return o.formats[t]||o.formats[o.defaultWidth]}}var en={date:Te({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Te({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Te({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},on={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function te(o){return function(i,t){var a;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&o.formattingValues){var r=o.defaultFormattingWidth||o.defaultWidth,l=null!=t&&t.width?String(t.width):r;a=o.formattingValues[l]||o.formattingValues[r]}else{var s=o.defaultWidth,m=null!=t&&t.width?String(t.width):o.defaultWidth;a=o.values[m]||o.values[s]}return a[o.argumentCallback?o.argumentCallback(i):i]}}function oe(o){return function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,r=i.match(n&&o.matchPatterns[n]||o.matchPatterns[o.defaultMatchWidth]);if(!r)return null;var d,l=r[0],s=n&&o.parsePatterns[n]||o.parsePatterns[o.defaultParseWidth],m=Array.isArray(s)?function _n(o,i){for(var t=0;t<o.length;t++)if(i(o[t]))return t}(s,function(g){return g.test(l)}):function hn(o,i){for(var t in o)if(o.hasOwnProperty(t)&&i(o[t]))return t}(s,function(g){return g.test(l)});return d=o.valueCallback?o.valueCallback(m):m,{value:d=t.valueCallback?t.valueCallback(d):d,rest:i.slice(l.length)}}}const Un={code:"en-US",formatDistance:function(i,t,n){var a,r=zo[i];return a="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:en,formatRelative:function(i,t,n,a){return on[i]},localize:{ordinalNumber:function(i,t){var n=Number(i),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:te({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:te({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:te({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:te({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:te({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function fn(o){return function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.match(o.matchPattern);if(!n)return null;var a=n[0],r=i.match(o.parsePattern);if(!r)return null;var l=o.valueCallback?o.valueCallback(r[0]):r[0];return{value:l=t.valueCallback?t.valueCallback(l):l,rest:i.slice(a.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(i){return parseInt(i,10)}}),era:oe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:oe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:oe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:oe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:oe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var In=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,On=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nn=/^'([^]*?)'?$/,Yn=/''/g,En=/[a-zA-Z]/;function qn(o,i,t){var n,a,r,l,s,m,d,p,g,_,C,x,D,M,Y,R,P,Q;w(2,arguments);var we=String(i),ne=de(),ie=null!==(n=null!==(a=t?.locale)&&void 0!==a?a:ne.locale)&&void 0!==n?n:Un,De=F(null!==(r=null!==(l=null!==(s=null!==(m=t?.firstWeekContainsDate)&&void 0!==m?m:null==t||null===(d=t.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==s?s:ne.firstWeekContainsDate)&&void 0!==l?l:null===(g=ne.locale)||void 0===g||null===(_=g.options)||void 0===_?void 0:_.firstWeekContainsDate)&&void 0!==r?r:1);if(!(De>=1&&De<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Me=F(null!==(C=null!==(x=null!==(D=null!==(M=t?.weekStartsOn)&&void 0!==M?M:null==t||null===(Y=t.locale)||void 0===Y||null===(R=Y.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==D?D:ne.weekStartsOn)&&void 0!==x?x:null===(P=ne.locale)||void 0===P||null===(Q=P.options)||void 0===Q?void 0:Q.weekStartsOn)&&void 0!==C?C:0);if(!(Me>=0&&Me<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ie.localize)throw new RangeError("locale must contain localize property");if(!ie.formatLong)throw new RangeError("locale must contain formatLong property");var ue=O(o);if(!function Zo(o){if(w(1,arguments),!function Mo(o){return w(1,arguments),o instanceof Date||"object"===ce(o)&&"[object Date]"===Object.prototype.toString.call(o)}(o)&&"number"!=typeof o)return!1;var i=O(o);return!isNaN(Number(i))}(ue))throw new RangeError("Invalid time value");var Na=function Lo(o){var i=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return i.setUTCFullYear(o.getFullYear()),o.getTime()-i.getTime()}(ue),Ya=function So(o,i){return w(2,arguments),function yo(o,i){w(2,arguments);var t=O(o).getTime(),n=F(i);return new Date(t+n)}(o,-F(i))}(ue,Na),Ea={firstWeekContainsDate:De,weekStartsOn:Me,locale:ie,_originalDate:ue},qa=we.match(On).map(function(A){var J=A[0];return"p"===J||"P"===J?(0,$o[J])(A,ie.formatLong):A}).join("").match(In).map(function(A){if("''"===A)return"'";var J=A[0];if("'"===J)return function Rn(o){var i=o.match(Nn);return i?i[1].replace(Yn,"'"):o}(A);var pe=Ro[J];if(pe)return!(null!=t&&t.useAdditionalWeekYearTokens)&&function Wo(o){return-1!==Bo.indexOf(o)}(A)&&Re(A,i,String(o)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&function jo(o){return-1!==Fo.indexOf(o)}(A)&&Re(A,i,String(o)),pe(Ya,A,ie.localize,Ea);if(J.match(En))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return A}).join("");return qa}var Qe=u(5861),Qn=u(6308);function Jn(o,i){1&o&&e._uU(0,"Datos Generales")}function $n(o,i){1&o&&(e.TgZ(0,"th",44),e._uU(1," Criterio "),e.qZA())}function Ln(o,i){if(1&o&&(e.TgZ(0,"td",45),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw(2);e.Udp("display",a.getRowSpan("criterio",n)?"":"none")("background-color",t.randomColor),e.uIk("rowspan",a.getRowSpan("criterio",n)),e.xp6(1),e.hij(" ",t.crite," ")}}function Fn(o,i){1&o&&(e.TgZ(0,"th",44),e._uU(1," Subcriterio "),e.qZA())}function Bn(o,i){if(1&o&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw(2);e.Udp("display",a.getRowSpan("subcriterio",n)?"":"none")("background-color",t.Colores),e.uIk("rowspan",a.getRowSpan("subcriterio",n)),e.xp6(1),e.hij(" ",t.sub," ")}}function jn(o,i){1&o&&(e.TgZ(0,"th",47),e._uU(1," id "),e.qZA())}function Wn(o,i){if(1&o&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.id_indi," ")}}function zn(o,i){1&o&&(e.TgZ(0,"th",44),e._uU(1," Indicadores "),e.qZA())}function Hn(o,i){if(1&o&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.ind_nombre," ")}}function Gn(o,i){1&o&&(e.TgZ(0,"th",44),e._uU(1," Elegir "),e.qZA())}function Vn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",46)(1,"mat-checkbox",49),e.NdJ("change",function(a){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onCheckboxChange(a,l))}),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.Q6J("checked",t.checked)}}function Xn(o,i){1&o&&e._UZ(0,"tr",50)}function Kn(o,i){1&o&&e._UZ(0,"tr",51)}function ei(o,i){if(1&o&&(e.TgZ(0,"div",31)(1,"h2")(2,"span",32),e._uU(3,"Indicadores"),e.qZA()(),e.TgZ(4,"table",33),e.ynx(5,34),e.YNc(6,$n,2,0,"th",35),e.YNc(7,Ln,2,6,"td",36),e.BQk(),e.ynx(8,37),e.YNc(9,Fn,2,0,"th",35),e.YNc(10,Bn,2,6,"td",38),e.BQk(),e.ynx(11,39),e.YNc(12,jn,2,0,"th",40),e.YNc(13,Wn,2,1,"td",41),e.BQk(),e.ynx(14,42),e.YNc(15,zn,2,0,"th",35),e.YNc(16,Hn,2,1,"td",25),e.BQk(),e.ynx(17,43),e.YNc(18,Gn,2,0,"th",35),e.YNc(19,Vn,2,1,"td",25),e.BQk(),e.YNc(20,Xn,1,0,"tr",26),e.YNc(21,Kn,1,0,"tr",27),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("dataSource",t.dataSource2),e.xp6(16),e.Q6J("matHeaderRowDef",t.columnas),e.xp6(1),e.Q6J("matRowDefColumns",t.columnas)}}function ti(o,i){1&o&&(e.TgZ(0,"th",52)(1,"strong"),e._uU(2,"INDICADORES SELECCIONADOS"),e.qZA()())}function oi(o,i){if(1&o&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.nombre)}}function ni(o,i){1&o&&e._UZ(0,"tr",50)}function ii(o,i){1&o&&e._UZ(0,"tr",51)}let ai=(()=>{class o{constructor(t,n,a,r,l,s,m,d,p,g,_,C,x,D,M){this.login=t,this.asignacionIndicadorService=n,this.dialogRef=a,this._formBuilder=r,this.dialog=l,this.router=s,this.modelo_service=m,this.sharedDataService=d,this.asignacionAdminService=p,this.criterioService=g,this.subcriterioService=_,this.formBuilder=C,this.indicadorService=x,this.paginatorIntl=D,this.data=M,this.isLoggedIn=!1,this.selectedIndicators=[],this.dataSource1=[],this.selectedSubcriterios=[],this.dataSource2=[],this.modelo=new E.Z,this.indicador=new H.s,this.asignacionIndicador=new xe,this.columnas=["criterio","subcriterio","id","indicador","visi"],this.spanningColumns=["criterio","subcriterio"],this.spans=[],this.indi_model=[],this.itemsPerPageLabel="Indicadores por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.selectedIds=[],this.mensaje="",this.vertabla=!1,this.rango=(Y,R,P)=>{if(0==P||0==R)return`0 de ${P}`;const Q=Y*R;return`${Q+1} - ${Q<(P=Math.max(P,0))?Math.min(Q+R,P):Q+R} de ${P}`},this.firstFormGroup=this._formBuilder.group({firstCtrl:["",h.kI.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",h.kI.required]}),this.isLinear=!1,this.displayedColumns=["nombre"],this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngOnInit(){this.criterioService.getDatos().subscribe(t=>{console.log("Criterios Unidos "+JSON.stringify(t))}),this.modelo=this.data.item,this.id_mode=this.data.item.id_modelo,console.log("modelo traido mod "+this.id_mode),this.modelo_service.getlistmodelindi(this.id_mode).subscribe(t=>{this.dataSource2=t.map(n=>({crite:n.crite,sub:n.sub,id_indi:n.id_indi,ind_nombre:n.ind_nombre,checked:n.visi})),this.cacheSpan("criterio",n=>n.crite),this.cacheSpan("subcriterio",n=>n.crite+n.sub),setTimeout(()=>{this.aplicar()},0)}),this.listarIndicadores(),this.isLoggedIn=this.login.isLoggedIn(),this.user=this.login.getUser(),this.login.loginStatusSubjec.asObservable().subscribe(t=>{this.isLoggedIn=this.login.isLoggedIn(),this.user=this.login.getUser()})}mostrarTabla(){this.vertabla=!0}aplicar(){this.dataSource2.forEach(t=>{t.randomColor=this.generarColor()}),this.dataSource2.forEach(t=>{t.Colores=this.generarColor2()})}cacheSpan(t,n){for(let a=0;a<this.dataSource2.length;){let r=n(this.dataSource2[a]),l=1;for(let s=a+1;s<this.dataSource2.length&&r===n(this.dataSource2[s]);s++)l++;this.spans[a]||(this.spans[a]={}),this.spans[a][t]=l,a+=l}}getRowSpan(t,n){return this.spans[n]&&this.spans[n][t]}getSelectedIds(){const t=[];return this.dataSource2.forEach(n=>{n.checked&&t.push(n.id_indi)}),t}generarColor(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 0.3)`}generarColor2(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 0.3)`}listarIndicadores(){console.log(this.modelo.id_modelo),this.indicadorService.getIndicadorPorModelo(this.modelo.id_modelo).subscribe(t=>{console.log(t),this.dataSource=t},t=>{console.error("Error al listar los criterios:",t)})}onCheckboxChange(t,n){n.checked=t.checked}modificarModelo(){var t=this;null!=this.modelo.fecha_inicio&&null!=this.modelo.fecha_fin&&null!=this.modelo.fecha_final_act&&null!=this.modelo.nombre?this.modelo.fecha_inicio>=this.modelo.fecha_fin||this.modelo.fecha_inicio>=this.modelo.fecha_final_act||this.modelo.fecha_fin<=this.modelo.fecha_final_act?T().fire("Error","Las fechas no son correctas por favor revisar","error"):T().fire({title:"\xbfEst\xe1s seguro de modificar el modelo?",showDenyButton:!0,confirmButtonText:"Cancelar",denyButtonText:"Modificar"}).then(function(){var n=(0,Qe.Z)(function*(a){if(!a.isConfirmed)try{yield t.modelo_service.modificar(t.modelo).toPromise(),yield t.eliminarYGuardarAsignaciones(),t.dialogRef.close(),T().fire("Modificado con exito! "+t.mensaje,"","success")}catch(r){400===r.status?T().fire("Error","El modelo actual no puede tener las mismas fechas del modelo anterior.","error"):(console.error("Error al modificar el registro:",r),T().fire("Error","No se pudo modificar el modelo.","error"))}});return function(a){return n.apply(this,arguments)}}()):T().fire("Error","Debe llenar todos los campos","error")}eliminarYGuardarAsignaciones(){var t=this;return(0,Qe.Z)(function*(){if(t.vertabla)try{const r=(yield t.modelo_service?.getlistmodelindi(t.id_mode).toPromise())?.map(m=>m.id_indi)?.filter(m=>!t.getSelectedIds().includes(m));if(r)for(const m of r)try{yield t.asignacionIndicadorService.getEliminaasig(t.id_mode,m).toPromise()}catch(d){console.error("Error al eliminar asignaci\xf3n:",d),d instanceof ye.UA&&(t.mensaje=(d.error+" ").toString(),console.log("Mensaje del backend:",d.error))}const l=t.getSelectedIds(),s=l.map(m=>{const d=new xe;return d.indicador={id_indicador:m,nombre:"",descripcion:"",peso:0,tipo:"",estandar:0,valor_obtenido:0,porc_obtenido:0,porc_utilida_obtenida:0,subcriterio:null,visible:!0},d.modelo={id_modelo:t.id_mode,fecha_fin:new Date,fecha_final_act:new Date,fecha_inicio:new Date,nombre:"",visible:!0,usuario:null},console.log("Asignaciones indicadores:",d.indicador.id_indicador+"id "+m),console.log("Asignaciones modelo:",d.modelo.id_modelo+"id modelo "+t.modelo.id_modelo),t.asignacionIndicadorService.createAsignacionIndicador(d)});yield(0,ke.D)(s).toPromise(),console.log("Asignaciones creadas para los IDs:",l)}catch(n){throw console.error("Error en eliminaci\xf3n o guardado de asignaciones:",n),new Error("Ocurri\xf3 un error en la eliminaci\xf3n o guardado de asignaciones.")}})()}abrirDialogo(){this.dialog.open(Se,{width:"50%"}).afterClosed().subscribe(n=>{})}addSubcriterio(){this.dialog.open(Ae,{width:"50%",data:{}}).afterClosed().subscribe(n=>{console.log("El di\xe1logo se cerr\xf3")})}reiniciarAdmin(){this.asignacionAdminService.listarAsignarResponsable().subscribe(t=>{t.forEach(n=>{this.asignacionAdminService.deleteAsignacion_Admin(n.id_asignacion).subscribe(a=>{console.log(a)})})})}reiniciarIndicador(){this.indicadorService.getIndicadores().subscribe(t=>{t.forEach(n=>{n.valor_obtenido=0,n.porc_obtenido=0,n.porc_utilida_obtenida=0,this.indicadorService.ponderarIndicador(n.id_indicador,n).subscribe(a=>{console.log(a)})})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ge.r),e.Y36(ee.v),e.Y36(f.so),e.Y36(h.qu),e.Y36(f.uw),e.Y36(y.F0),e.Y36($.y),e.Y36(W.g),e.Y36(_e),e.Y36(re.X),e.Y36(le.j),e.Y36(h.qu),e.Y36(j.Q),e.Y36(k.ye),e.Y36(f.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dialogo-modelo-mod"]],decls:61,vars:18,consts:[[1,"blockquote","text-dark",2,"margin-top","1%"],[3,"linear"],["stepper",""],[3,"stepControl"],[2,"width","100%",3,"formGroup"],["matStepLabel",""],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","Nombre del modelo","name","nombre",3,"ngModel","ngModelChange"],[1,"date-fields"],["appearance","fill",1,"date-field"],["matInput","","name","fecha_inicio",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["disabled","false"],["dp1",""],["matInput","","name","fecha_final_act",3,"matDatepicker","ngModel","ngModelChange"],["dp3",""],["matInput","","name","fecha_fin",3,"matDatepicker","ngModel","ngModelChange"],["dp2",""],[1,"btn","btn-primary",2,"margin-top","2%",3,"click"],["class","mat-elevation-z8","style","width: 100%; height: 50%; margin-top: 2%;",4,"ngIf"],["label","Configurar modelo",3,"stepControl"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","style","text-align: center",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-dialog-close","",1,"btn","btn-warning"],["cdkFocusInitial","",1,"btn","btn-primary",3,"click"],[1,"mat-elevation-z8",2,"width","100%","height","50%","margin-top","2%"],[1,"negrita"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","criterio"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","negrita",3,"display","background-color",4,"matCellDef"],["matColumnDef","subcriterio"],["mat-cell","",3,"display","background-color",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","class","small-cell",4,"matHeaderCellDef"],["mat-cell","","class","small-cell",4,"matCellDef"],["matColumnDef","indicador"],["matColumnDef","visi"],["mat-header-cell",""],["mat-cell","",1,"negrita"],["mat-cell",""],["mat-header-cell","",1,"small-cell"],["mat-cell","",1,"small-cell"],[3,"checked","change"],["mat-header-row",""],["mat-row",""],["mat-header-cell","",2,"text-align","center"]],template:function(t,n){if(1&t&&(e._UZ(0,"br"),e.TgZ(1,"blockquote",0)(2,"h1")(3,"strong"),e._uU(4,"Creacion del Modelo"),e.qZA()()(),e.TgZ(5,"mat-dialog-content")(6,"mat-stepper",1,2)(8,"mat-step",3)(9,"form",4),e.YNc(10,Jn,1,0,"ng-template",5),e._UZ(11,"br"),e.TgZ(12,"form",6)(13,"mat-form-field",7)(14,"mat-label"),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"input",8),e.NdJ("ngModelChange",function(r){return n.modelo.nombre=r}),e.qZA()(),e.TgZ(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),e._uU(20,"Fecha Inicial:"),e.qZA(),e.TgZ(21,"input",11),e.NdJ("ngModelChange",function(r){return n.modelo.fecha_inicio=r}),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"MM/DD/YYYY"),e.qZA(),e._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",13,14),e.qZA(),e.TgZ(27,"mat-form-field",10)(28,"mat-label"),e._uU(29,"Fin Tareas:"),e.qZA(),e.TgZ(30,"input",15),e.NdJ("ngModelChange",function(r){return n.modelo.fecha_final_act=r}),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"MM/DD/YYYY"),e.qZA(),e._UZ(33,"mat-datepicker-toggle",12)(34,"mat-datepicker",13,16),e.qZA(),e.TgZ(36,"mat-form-field",10)(37,"mat-label"),e._uU(38,"Fecha Final:"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(r){return n.modelo.fecha_fin=r}),e.qZA(),e.TgZ(40,"mat-hint"),e._uU(41,"MM/DD/YYYY"),e.qZA(),e._UZ(42,"mat-datepicker-toggle",12)(43,"mat-datepicker",13,18),e.qZA()()(),e.TgZ(45,"button",19),e.NdJ("click",function(){return n.mostrarTabla()}),e._uU(46,"Seleccionar Indicadores"),e.qZA(),e.YNc(47,ei,22,3,"div",20),e.qZA()(),e.TgZ(48,"mat-step",21),e._UZ(49,"br"),e.TgZ(50,"table",22),e.ynx(51,23),e.YNc(52,ti,3,0,"th",24),e.YNc(53,oi,2,1,"td",25),e.BQk(),e.YNc(54,ni,1,0,"tr",26),e.YNc(55,ii,1,0,"tr",27),e.qZA()()()(),e.TgZ(56,"mat-dialog-actions",28)(57,"button",29),e._uU(58,"Cancelar"),e.qZA(),e.TgZ(59,"button",30),e.NdJ("click",function(){return n.modificarModelo()}),e._uU(60," Modificar "),e.qZA()()),2&t){const a=e.MAs(26),r=e.MAs(35),l=e.MAs(44);e.xp6(6),e.Q6J("linear",n.isLinear),e.xp6(2),e.Q6J("stepControl",n.firstFormGroup),e.xp6(1),e.Q6J("formGroup",n.firstFormGroup),e.xp6(7),e.Q6J("ngModel",n.modelo.nombre),e.xp6(5),e.Q6J("matDatepicker",a)("ngModel",n.modelo.fecha_inicio),e.xp6(3),e.Q6J("for",a),e.xp6(6),e.Q6J("matDatepicker",r)("ngModel",n.modelo.fecha_final_act),e.xp6(3),e.Q6J("for",r),e.xp6(6),e.Q6J("matDatepicker",l)("ngModel",n.modelo.fecha_fin),e.xp6(3),e.Q6J("for",l),e.xp6(5),e.Q6J("ngIf",n.vertabla),e.xp6(1),e.Q6J("stepControl",n.secondFormGroup),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}},dependencies:[Z.O5,I.KE,I.hX,I.bx,I.R9,Pe.Nt,h._Y,h.Fj,h.JJ,h.JL,h.On,h.F,h.sg,f.ZT,f.xY,f.H8,G.C0,G.VY,G.Vq,V.Mq,V.hl,V.nW,be.oG,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,Qn.YE],styles:[".negrita[_ngcontent-%COMP%]{font-weight:700}.small-cell[_ngcontent-%COMP%]{max-width:5px;overflow:hidden;text-overflow:ellipsis;background-color:transparent;color:#fff}.example-form[_ngcontent-%COMP%]{min-width:150px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}#my-button[_ngcontent-%COMP%]{background-color:#272e56;color:#fff}#button-dialogue[_ngcontent-%COMP%]{border:#272E56}.date-fields[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.date-field[_ngcontent-%COMP%]{flex-basis:calc(33.33% - 10px);width:calc(33.33% - 10px)}"]}),o})();function ri(o,i){1&o&&(e.TgZ(0,"span",17)(1,"mat-icon"),e._uU(2,"new_releases"),e.qZA()())}function li(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openDialogMod(a))}),e._uU(1,"Modificar"),e.qZA()}}function ci(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"div",6)(3,"strong"),e._uU(4,"NRO MODELO: "),e.qZA(),e._uU(5),e.YNc(6,ri,3,0,"span",7),e.qZA(),e.TgZ(7,"div",8)(8,"h5",9),e._uU(9),e.qZA(),e.TgZ(10,"p",10)(11,"strong"),e._uU(12,"INICIO: "),e.qZA(),e._uU(13),e.ALo(14,"customDate"),e._UZ(15,"br"),e.TgZ(16,"strong"),e._uU(17,"FINAL: "),e.qZA(),e._uU(18),e.ALo(19,"customDate"),e.qZA(),e.TgZ(20,"table",11)(21,"thead")(22,"tr")(23,"th",12),e._uU(24,"Criterios"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Subcriterios"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Indicadores"),e.qZA()()(),e.TgZ(29,"tbody")(30,"tr")(31,"td"),e._uU(32),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA()()()(),e._UZ(37,"br"),e.TgZ(38,"div",13)(39,"button",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.enviarModelo(r))}),e._uU(40," Detalle "),e.qZA(),e.YNc(41,li,2,0,"button",15),e.qZA()(),e.TgZ(42,"div",16)(43,"strong"),e._uU(44,"ACTIVIDADES: "),e.qZA(),e._uU(45),e.ALo(46,"customDate"),e.qZA()(),e.BQk()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(1),e.Gre("card mi-card card-",n,""),e.xp6(4),e.hij(" ",t.id_modelo,""),e.xp6(1),e.Q6J("ngIf",0===n),e.xp6(3),e.Oqu(t.nombre),e.xp6(4),e.hij("",e.lcZ(14,13,t.fecha_inicio)," "),e.xp6(5),e.hij(" ",e.lcZ(19,15,t.fecha_fin)," "),e.xp6(14),e.Oqu(t.nro_criterios),e.xp6(2),e.Oqu(t.nro_subcriterios),e.xp6(2),e.Oqu(t.nro_indicadores),e.xp6(5),e.Q6J("ngIf",0===n),e.xp6(4),e.hij(" ",e.lcZ(46,17,t.fecha_final_act)," ")}}let si=(()=>{class o{transform(t){return qn(new Date(t),"dd-MM-yyyy")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"customDate",type:o,pure:!0}),o})(),di=(()=>{class o{constructor(t,n,a){this.dialog=t,this.router=n,this.modeloService=a,this.mode=new E.Z,this.datasource=[],this.addRandomColors()}addRandomColors(){this.datasource.forEach((t,n)=>{const a="#"+Math.floor(16777215*Math.random()).toString(16);t.color=a})}ngOnInit(){this.listar()}listar(){this.modeloService.getModelosVista().subscribe(t=>{this.datasource=t,console.log(t)})}openDialog(){this.dialog.open(Do,{width:"50%"}).afterClosed().subscribe(n=>{this.listar()})}openDialogMod(t){console.log(t),console.log("---------------------------------"),this.dialog.open(ai,{width:"50%",data:{item:t}}).afterClosed().subscribe(a=>{this.listar()})}enviarModelo(t){localStorage.setItem("id",t.id_modelo.toString()),this.router.navigate(["/sup/modelo/detallemodelo"],{state:{modelo:t}})}eliminar(t){T().fire({title:"Estas seguro de eliminar el registro?",showDenyButton:!0,confirmButtonText:"Cancelar",denyButtonText:"Eliminar"}).then(n=>{n.isConfirmed||this.modeloService.eliminarlogic(t.id_modelo).subscribe(a=>{this.listar(),T().fire("Eliminado!","","success")})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.uw),e.Y36(y.F0),e.Y36($.y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-inicio-modelo"]],decls:10,vars:1,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[2,"text-transform","uppercase"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"horizontal-list"],[4,"ngFor","ngForOf"],[1,"card-header"],["class","recent-icon",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"table","text-center"],["scope","col"],["role","group","aria-label","Basic example",1,"btn-group","-flex","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card-footer","text-muted"],[1,"recent-icon"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1",2)(4,"strong"),e._uU(5,"Modelos "),e.qZA()()(),e.TgZ(6,"button",3),e.NdJ("click",function(){return n.openDialog()}),e._uU(7," Iniciar Nuevo Modelo "),e.qZA(),e.TgZ(8,"div",4),e.YNc(9,ci,47,19,"ng-container",5),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",n.datasource))},dependencies:[Z.sg,Z.O5,z.Hw,si],styles:[".mi-card[_ngcontent-%COMP%]{max-width:50%;min-width:200px;margin:10px}#my-button[_ngcontent-%COMP%]{margin:10px;padding-right:1%}.horizontal-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start}.mini-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:10px}.mini-table-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.mini-table-header[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.mini-table-value[_ngcontent-%COMP%]{flex-grow:1}.mi-card[_ngcontent-%COMP%]{margin:10px;border:2px solid #ccc;padding:10px;border-radius:5px}.mi-card.card-0[_ngcontent-%COMP%]{border-color:#f44336}.mi-card.card-1[_ngcontent-%COMP%]{border-color:#e91e63}.mi-card.card-2[_ngcontent-%COMP%]{border-color:#9c27b0}.mi-card.card-3[_ngcontent-%COMP%]{border-color:#673ab7}.mi-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a;transition:box-shadow .3s ease-in-out}body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"]}),o})();const mi=["datosModalRef"];function ui(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"ID"),e.qZA())}function pi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.id_indicador," ")}}function gi(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"NOMBRE"),e.qZA())}function hi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function _i(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"DESCRIPCI\xd3N"),e.qZA())}function fi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.descripcion," ")}}function bi(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"PESO"),e.qZA())}function vi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.peso," ")}}function Ci(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"VALOR"),e.qZA())}function xi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.valor_obtenido," ")}}function Ti(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"PORCENTAJE"),e.qZA())}function wi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.ekj("color-verde","verde"===t.color)("color-rojo","rojo"===t.color)("color-naranja","naranja"===t.color)("color-amarillo","amarillo"===t.color),e.xp6(1),e.hij(" ",t.porc_obtenido," ")}}function Di(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"ESTANDAR"),e.qZA())}function Mi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.estandar," ")}}function Zi(o,i){1&o&&(e.TgZ(0,"th",22),e._uU(1,"TIPO"),e.qZA())}function yi(o,i){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.tipo," ")}}function Si(o,i){1&o&&e._UZ(0,"tr",24)}function Ai(o,i){1&o&&e._UZ(0,"tr",25)}const ki=function(){return[5,10,20]};let Pi=(()=>{class o{constructor(t,n,a,r,l,s,m,d){this.indicadorservice=t,this.router=n,this.paginatorIntl=a,this.fb=r,this.route=l,this.modeloService=s,this.asignacionIndicadorService=m,this.sharedDataService=d,this.itemsPerPageLabel="Items por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.rango=(p,g,_)=>{if(0==_||0==g)return`0 de ${_}`;const C=p*g;return`${C+1} - ${C<(_=Math.max(_,0))?Math.min(C+g,_):C+g} de ${_}`},this.indic=new H.s,this.guardadoExitoso=!1,this.model=new E.Z,this.subcrite=new fe.p,this.dataSource=new c.by,this.columnasUsuario=["id_indicador","nombre","descripcion","peso","valor_obtenido","porc_obtenido","estandar","tipo"],this.frmIndicador=r.group({nombre:["",h.kI.required],descripcion:["",[h.kI.required,h.kI.maxLength(250)]],peso:["",h.kI.required],estandar:["",h.kI.required],tipo:["",h.kI.required]}),this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngAfterViewInit(){this.dataSource.paginator=this.paginator||null}ngOnInit(){this.recibeIndicador(),this.verSubcriterios()}assignColorsToIndicators(t){t.forEach(n=>{n.color=n.porc_obtenido>75&&n.porc_obtenido<=100?"verde":n.porc_obtenido>50&&n.porc_obtenido<=75?"amarillo":n.porc_obtenido>25&&n.porc_obtenido<=50?"naranja":n.porc_obtenido<=25?"rojo":""})}colresIndicador(){this.dataSource.data&&this.assignColorsToIndicators(this.dataSource.data)}recibeIndicador(){this.model=history.state.modelo;let t=history.state.data;this.indicadorservice.getSubcrindica(t,this.model.id_modelo).subscribe(n=>{this.dataSource.data=n,this.assignColorsToIndicators(this.dataSource.data)})}verSubcriterios1(t){localStorage.setItem("id",t.id_indicador.toString()),this.router.navigate(["/sup/modelo/detalle-subcriterio"])}verSubcriterios(){window.onpopstate=()=>{"/sup/modelo/detalle-subcriterio"===this.router.url&&this.recibeIndicador()}}verCriterios(){this.router.navigate(["/sup/modelo/detallemodelo"],{state:{modelo:this.model}})}goBack(){window.history.back(),this.router.navigate(["/sup/modelo/detalle-subcriterio"],{state:{modelo:this.model,data:history.state.data}})}irinicio(){this.router.navigate(["/sup/modelo/modelo"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(j.Q),e.Y36(y.F0),e.Y36(k.ye),e.Y36(h.qu),e.Y36(y.gz),e.Y36($.y),e.Y36(ee.v),e.Y36(W.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle-indicador"]],viewQuery:function(t,n){if(1&t&&(e.Gf(mi,5),e.Gf(k.NW,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.datosModalRef=a.first),e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:47,vars:6,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[2,"text-transform","uppercase"],[2,"cursor","pointer",3,"click"],[1,"mat-elevation-z8","table-responsive",2,"margin-bottom","5%"],[1,"container"],[1,"detalle"],["mat-table","",3,"dataSource"],["matColumnDef","id_indicador"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","descripcion"],["matColumnDef","peso"],["matColumnDef","valor_obtenido"],["matColumnDef","porc_obtenido"],["mat-cell","",3,"color-verde","color-rojo","color-naranja","color-amarillo",4,"matCellDef"],["matColumnDef","estandar"],["matColumnDef","tipo"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements","itemsPerPageLabel","Items por p\xe1gina:","nextPageLabel","Siguiente","previousPageLabel","Anterior",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1",2)(4,"strong")(5,"a",3),e.NdJ("click",function(){return n.irinicio()}),e._uU(6,"Modelos "),e.qZA(),e._uU(7," > "),e.TgZ(8,"a",3),e.NdJ("click",function(){return n.verCriterios()}),e._uU(9),e.qZA(),e._uU(10," > "),e.TgZ(11,"a",3),e.NdJ("click",function(){return n.goBack()}),e._uU(12,"SUBCRITERIOS "),e.qZA(),e._uU(13," > "),e.TgZ(14,"a"),e._uU(15,"INDICADORES "),e.qZA()()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"table",7),e.ynx(20,8),e.YNc(21,ui,2,0,"th",9),e.YNc(22,pi,2,1,"td",10),e.BQk(),e.ynx(23,11),e.YNc(24,gi,2,0,"th",9),e.YNc(25,hi,2,1,"td",10),e.BQk(),e.ynx(26,12),e.YNc(27,_i,2,0,"th",9),e.YNc(28,fi,2,1,"td",10),e.BQk(),e.ynx(29,13),e.YNc(30,bi,2,0,"th",9),e.YNc(31,vi,2,1,"td",10),e.BQk(),e.ynx(32,14),e.YNc(33,Ci,2,0,"th",9),e.YNc(34,xi,2,1,"td",10),e.BQk(),e.ynx(35,15),e.YNc(36,Ti,2,0,"th",9),e.YNc(37,wi,2,9,"td",16),e.BQk(),e.ynx(38,17),e.YNc(39,Di,2,0,"th",9),e.YNc(40,Mi,2,1,"td",10),e.BQk(),e.ynx(41,18),e.YNc(42,Zi,2,0,"th",9),e.YNc(43,yi,2,1,"td",10),e.BQk(),e.YNc(44,Si,1,0,"tr",19),e.YNc(45,Ai,1,0,"tr",20),e.qZA(),e._UZ(46,"mat-paginator",21),e.qZA()()()()()),2&t&&(e.xp6(9),e.hij("",n.model.nombre," "),e.xp6(10),e.Q6J("dataSource",n.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",n.columnasUsuario),e.xp6(1),e.Q6J("matRowDefColumns",n.columnasUsuario),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,ki)))},dependencies:[k.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:["p.fant[_ngcontent-%COMP%]{font-family:sans-serif;left:10px;text-align:left}.color-verde[_ngcontent-%COMP%]{background-color:green}.color-rojo[_ngcontent-%COMP%]{background-color:red}.color-naranja[_ngcontent-%COMP%]{background-color:orange}.color-amarillo[_ngcontent-%COMP%]{background-color:#ff0}body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"]}),o})();const Ui=["datosModalRef"];function Ii(o,i){1&o&&(e.TgZ(0,"th",16),e._uU(1,"ID"),e.qZA())}function Oi(o,i){if(1&o&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.id_subcriterio," ")}}function Ni(o,i){1&o&&(e.TgZ(0,"th",16),e._uU(1,"NOMBRE"),e.qZA())}function Yi(o,i){if(1&o&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function Ei(o,i){1&o&&(e.TgZ(0,"th",16),e._uU(1,"DESCRIPCI\xd3N"),e.qZA())}function qi(o,i){if(1&o&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.descripcion," ")}}function Ri(o,i){1&o&&(e.TgZ(0,"th",16),e._uU(1,"INDICADORES"),e.qZA())}function Qi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",17)(1,"button",18),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.verIndicadores(r))}),e.TgZ(2,"mat-icon",19),e._uU(3,"info"),e.qZA()()()}}function Ji(o,i){1&o&&e._UZ(0,"tr",20)}function $i(o,i){1&o&&e._UZ(0,"tr",21)}const Li=function(){return[5,10,20]};let Fi=(()=>{class o{constructor(t,n,a,r,l,s,m){this.subcriterioservice=t,this.router=n,this.paginatorIntl=a,this.sharedDataService=r,this.asignacionIndicadorService=l,this.criterioService=s,this.modeloService=m,this.itemsPerPageLabel="Subcriterios por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.rango=(d,p,g)=>{if(0==g||0==p)return`0 de ${g}`;const _=d*p;return`${_+1} - ${_<(g=Math.max(g,0))?Math.min(_+p,g):_+p} de ${g}`},this.dataSource=new c.by,this.searchText="",this.model=new E.Z,this.modelo=new E.Z,this.buscar="",this.columnasUsuario=["id_subcriterio","nombre","descripcion","indicadores"],this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngAfterViewInit(){this.dataSource.paginator=this.paginator||null}ngOnInit(){this.recibeSubcriterio()}recibeSubcriterio(){this.modelo=history.state.modelo;let t=history.state.data;this.model=history.state.modelo,this.subcriterioservice.getSubcritIndi(t,Number(this.modelo.id_modelo)).subscribe(n=>{this.dataSource.data=n})}verIndicadores(t){this.router.navigate(["/sup/modelo/detalle-indicador"],{state:{data:t.id_subcriterio,modelo:this.model}})}verCriterios(){this.router.navigate(["/sup/modelo/detallemodelo"],{state:{modelo:this.model}})}irinicio(){this.router.navigate(["/sup/modelo/modelo"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(le.j),e.Y36(y.F0),e.Y36(k.ye),e.Y36(W.g),e.Y36(ee.v),e.Y36(re.X),e.Y36($.y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle-subcriterio"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ui,5),e.Gf(k.NW,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.datosModalRef=a.first),e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:31,vars:6,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[2,"text-transform","uppercase"],[2,"cursor","pointer",3,"click"],[1,"mat-elevation-z8","table-responsive",2,"margin-bottom","5%"],[1,"container"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","id_subcriterio"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","descripcion"],["matColumnDef","indicadores"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements","itemsPerPageLabel","Items por p\xe1gina:","nextPageLabel","Siguiente","previousPageLabel","Anterior",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","role","button",1,"boton",3,"click"],[1,"iconoB"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1",2)(4,"strong")(5,"a",3),e.NdJ("click",function(){return n.irinicio()}),e._uU(6,"Modelos "),e.qZA(),e._uU(7," > "),e.TgZ(8,"a",3),e.NdJ("click",function(){return n.verCriterios()}),e._uU(9),e.qZA(),e._uU(10," > "),e.TgZ(11,"a"),e._uU(12,"SUBCRITERIOS "),e.qZA()()()(),e.TgZ(13,"div",4)(14,"div",5)(15,"table",6),e.ynx(16,7),e.YNc(17,Ii,2,0,"th",8),e.YNc(18,Oi,2,1,"td",9),e.BQk(),e.ynx(19,10),e.YNc(20,Ni,2,0,"th",8),e.YNc(21,Yi,2,1,"td",9),e.BQk(),e.ynx(22,11),e.YNc(23,Ei,2,0,"th",8),e.YNc(24,qi,2,1,"td",9),e.BQk(),e.ynx(25,12),e.YNc(26,Ri,2,0,"th",8),e.YNc(27,Qi,4,0,"td",9),e.BQk(),e.YNc(28,Ji,1,0,"tr",13),e.YNc(29,$i,1,0,"tr",14),e.qZA(),e._UZ(30,"mat-paginator",15),e.qZA()()()()),2&t&&(e.xp6(9),e.hij("",n.model.nombre," "),e.xp6(6),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.columnasUsuario),e.xp6(1),e.Q6J("matRowDefColumns",n.columnasUsuario),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,Li)))},dependencies:[U.RK,z.Hw,k.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:["div.detalle[_ngcontent-%COMP%]{border:2px solid #040936;left:10px}p.fant[_ngcontent-%COMP%]{font-family:sans-serif;left:10px;text-align:left}.boton[_ngcontent-%COMP%]{background-color:#0d6efd}.iconoB[_ngcontent-%COMP%]{color:#fff}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:grey}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{text-decoration:none}body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"]}),o})();var Bi=u(8584),ji=u(3891);function Wi(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Nombre del Indicador"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verIndicador?"":"none")}}function zi(o,i){if(1&o&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verIndicador&&a.getRowSpan3("Indicador",n)?"":"none"),e.uIk("rowspan",a.getRowSpan3("Indicador",n)),e.xp6(1),e.AsE(" ",t.ind_nombrej," ",a.calcularRowSpanValue(n)," ")}}function Hi(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Descripci\xf3n del Indicador"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verDesIndicador?"":"none")}}function Gi(o,i){if(1&o&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verDesIndicador&&a.getRowSpan3("DescIn",n)?"":"none"),e.uIk("rowspan",a.getRowSpan3("DescIn",n)),e.xp6(1),e.hij(" ",t.ides," ")}}function Vi(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Peso"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verPeso?"":"none")}}function Xi(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verPeso&&a.getRowSpan3("Peso",n)?"":"none"),e.uIk("rowspan",a.getRowSpan3("Peso",n)),e.xp6(1),e.hij(" ",t.pes," ")}}function Ki(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"% Obtenido"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verObtenido?"":"none")}}const ea=function(o,i,t,n){return{rojo:o,naranja:i,amarillo:t,verde:n}};function ta(o,i){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verObtenido&&a.getRowSpan3("Obtenido",n)?"":"none"),e.Q6J("ngClass",e.l5B(5,ea,t.obt>=0&&t.obt<=25,t.obt>25&&t.obt<=50,t.obt>50&&t.obt<=75,t.obt>75&&t.obt<=100)),e.uIk("rowspan",a.getRowSpan3("Obtenido",n)),e.xp6(1),e.hij(" ",t.obt," ")}}function oa(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"% Utilidad"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verUtilidad?"":"none")}}function na(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verUtilidad&&a.getRowSpan3("Utilidad",n)?"":"none"),e.uIk("rowspan",a.getRowSpan3("Utilidad",n)),e.xp6(1),e.hij(" ",t.uti," ")}}function ia(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Valor"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verValor?"":"none")}}function aa(o,i){if(1&o&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verValor&&a.getRowSpan3("Valor",n)?"":"none"),e.uIk("rowspan",a.getRowSpan3("Valor",n)),e.xp6(1),e.hij(" ",t.val>100&&t.val<101?100:t.val," ")}}function ra(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Evidencia"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verEvidencia?"":"none")}}function la(o,i){if(1&o&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("background-color",t.indicol)("display",a.verEvidencia&&a.getRowSpan3("Evidencia",n)?"":"none"),e.uIk("rowspan",a.getRowSpan3("Evidencia",n)),e.xp6(1),e.hij(" ",t.descrip," ")}}function ca(o,i){if(1&o&&e._UZ(0,"th",32),2&o){const t=e.oxw();e.Udp("display",t.verArchivo?"":"none")}}function sa(o,i){if(1&o&&(e.TgZ(0,"td",36)(1,"a",37),e._uU(2),e.qZA()()),2&o){const t=i.$implicit,n=i.index,a=e.oxw();e.Udp("display",a.verArchivo&&a.getRowSpan3("Archivos",n)?"":"none"),e.xp6(1),e.s9C("href",t.archivo_enlace,e.LSH),e.xp6(1),e.Oqu(t.archivo_nombre)}}function da(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Id ind"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.ocultar?"":"none")}}function ma(o,i){if(1&o&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.Udp("display",n.ocultar&&n.rowSpanValue?"":"none"),e.uIk("rowspan",n.rowSpanValue),e.xp6(1),e.hij(" ",t.id_indicardorj," ")}}function ua(o,i){if(1&o&&(e.TgZ(0,"th",32),e._uU(1,"Tipo"),e.qZA()),2&o){const t=e.oxw();e.Udp("display",t.verTipo?"":"none")}}function pa(o,i){if(1&o&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.Udp("display",n.verTipo&&n.rowSpanValue?"":"none"),e.uIk("rowspan",n.rowSpanValue),e.xp6(1),e.hij(" ",t.tip," ")}}function ga(o,i){1&o&&(e.TgZ(0,"th",32),e._uU(1,"Calificar"),e.qZA())}function ha(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td",38)(1,"button",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.abrirDialogo(r.tip,r.id_indicardorj,r.pes))}),e.TgZ(2,"mat-icon",40),e._uU(3,"open_in_new"),e.qZA()()()}if(2&o){const t=e.oxw();e.Udp("display",t.rowSpanValue?"":"none"),e.uIk("rowspan",t.rowSpanValue)}}function _a(o,i){1&o&&e._UZ(0,"tr",41)}function fa(o,i){1&o&&e._UZ(0,"tr",42)}let ba=(()=>{class o{constructor(t,n,a,r,l,s){this.route=t,this.paginatorIntl=n,this.indicadorService=a,this.archi=r,this.modelserv=l,this.dialog=s,this.spans3=[],this.itemsPerPageLabel="Indicadores por p\xe1gina",this.nextPageLabel="Siguiente",this.lastPageLabel="\xdaltima",this.firstPageLabel="Primera",this.previousPageLabel="Anterior",this.rango=(m,d,p)=>{if(0==p||0==d)return`0 de ${p}`;const g=m*d;return`${g+1} - ${g<(p=Math.max(p,0))?Math.min(g+d,p):g+d} de ${p}`},this.displayedColumns3=["Indicador","DescIn","Evidencia","Peso","Obtenido","Utilidad","Valor","Archivos","Idind","Tipo","Calificar"],this.rowSpanValue=0,this.verEvidencia=!1,this.verTipo=!0,this.ocultar=!1,this.verIndicador=!0,this.verPeso=!0,this.verObtenido=!0,this.verUtilidad=!0,this.verArchivo=!1,this.verValor=!0,this.verDescripcion=!1,this.verDesIndicador=!0,this.columnNames={nombre:"Nombre del Indicador",descripcion:"Descripci\xf3n del Indicador",tipo:"Tipo",valor_obtenido:"Valor Obtenido"},this.dataSource=new c.by,this.archivosPorIndicador={},this.columnsToDisplay=["nombre","descripcion","tipo","valor_obtenido"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"archivo","evaluar"],this.nombre="",this.idcriterio=new ae.v,this.idmodelo=new E.Z,this.indicador=new H.s,this.datacrite=[],this.paginatorIntl.nextPageLabel=this.nextPageLabel,this.paginatorIntl.lastPageLabel=this.lastPageLabel,this.paginatorIntl.firstPageLabel=this.firstPageLabel,this.paginatorIntl.previousPageLabel=this.previousPageLabel,this.paginatorIntl.itemsPerPageLabel=this.itemsPerPageLabel,this.paginatorIntl.getRangeLabel=this.rango}ngAfterViewInit(){this.dataSource.paginator=this.paginator||null}ngOnInit(){this.llenar_datasource(),this.llenardatos(),localStorage.removeItem("datopasado")}calcularRowSpanValue(t){this.rowSpanValue=this.getRowSpan3("Indicador",t)}showTipo(){this.verTipo=!this.verTipo}showArchivo(){this.verArchivo=!this.verArchivo}showValor(){this.verValor=!this.verValor}showUtilidad(){this.verUtilidad=!this.verUtilidad}showObtenido(){this.verObtenido=!this.verObtenido}showDescripcionin(){this.verDesIndicador=!this.verDesIndicador}showIndicador(){this.verIndicador=!this.verIndicador}showPeso(){this.verPeso=!this.verPeso}showEvidencia(){this.verEvidencia=!this.verEvidencia}showDescripcion(){this.verDescripcion=!this.verDescripcion}cacheSpan3(t,n){for(let a=0;a<this.datacrite.length;){let r=n(this.datacrite[a]),l=1;for(let s=a+1;s<this.datacrite.length&&r===n(this.datacrite[s]);s++)l++;this.spans3[a]||(this.spans3[a]={}),this.spans3[a][t]=l,a+=l}}getRowSpan3(t,n){return this.spans3[n]&&this.spans3[n][t]}llenardatos(){this.idcriterio=history.state.criterio,this.idmodelo=history.state.modelo;let t=history.state.criterio.idcriterio;this.nombre=history.state.criterio.nombrecriterio,console.log("nombrec"+history.state.criterio.nombrecriterio),this.modelserv.getliscritemod(t,this.idmodelo.id_modelo).subscribe(n=>{this.datacrite=n,console.log("Datos mios id mod "+this.idmodelo.id_modelo+"id crite "+this.idcriterio.id_criterio+" "+JSON.stringify(n)),this.cacheSpan3("Indicador",a=>a.ind_nombrej),this.cacheSpan3("DescIn",a=>a.criterionomj+a.ides),this.cacheSpan3("Peso",a=>a.ind_nombrej+a.ides+a.pes),this.cacheSpan3("Obtenido",a=>a.ind_nombrej+a.ides+a.pes+a.obt),this.cacheSpan3("Utilidad",a=>a.ind_nombrej+a.ides+a.pes+a.obt+a.uti),this.cacheSpan3("Valor",a=>a.ind_nombrej+a.ides+a.pes+a.obt+a.uti+a.val),this.cacheSpan3("Evidencia",a=>a.ind_nombrej+a.ides+a.pes+a.obt+a.uti+a.val+a.descrip),this.cacheSpan3("Archivos",a=>a.ind_nombrej+a.ides+a.pes+a.obt+a.uti+a.val+a.descrip+a.archivo_enlace),this.cacheSpan3("Idind",a=>a.ind_nombrej+a.ides+a.pes+a.obt+a.uti+a.val+a.descrip+a.archivo_enlace+a.id_indicardorj),this.cacheSpan3("Tipo",a=>a.ind_nombrej+a.ides+a.pes+a.obt+a.uti+a.val+a.descrip+a.archivo_enlace+a.id_indicardorj+a.tip)},n=>{console.error("Error al obtener datos:",n)})}llenar_datasource(){const t=localStorage.getItem("datopasado");if(t){const n=JSON.parse(t);let a=n.modelo,r=n.idCriterio;this.indicadorService.listarIndicadorPorCriterioModelo(r,a).subscribe(l=>{this.dataSource.data=l,l.length>0&&l.forEach(s=>{this.archi.getarchivoindi(r,a,s.id_indicador).subscribe(m=>{console.log("Archivos: "+JSON.stringify(m));const d=m.map(p=>p.enlace);this.dataSource.data=this.dataSource.data.map(p=>p.id_indicador===s.id_indicador?{...p,enlaces:d}:p)})})})}else{let n=history.state.criterio.idcriterio;console.log("idcrit "+n),this.idmodelo=history.state.modelo,this.indicadorService.listarIndicadorPorCriterioModelo(n,this.idmodelo.id_modelo).subscribe(a=>{this.dataSource.data=a,a.length>0&&a.forEach(r=>{this.archi.getarchivoindi(n,this.idmodelo.id_modelo,r.id_indicador).subscribe(l=>{console.log("Archivos: "+JSON.stringify(l));const s=l.map(m=>m.enlace);this.dataSource.data=this.dataSource.data.map(m=>m.id_indicador===r.id_indicador?{...m,enlaces:s}:m)})})})}}getFileName(t){const n=t.split("/");return n[n.length-1]}abrirDialogo(t,n,a){this.dialog.open(Bi.n,{data:{valor:t,id:n,peso:a}}).afterClosed().subscribe(l=>{console.log(l),"success"==l.event&&(console.log(l),this.llenardatos(),T().fire({position:"center",icon:"success",title:"Calificaci\xf3n registrada",showConfirmButton:!0,timer:1500}))})}regresar(){this.route.navigate(["/sup/modelo/detallemodelo"],{state:{modelo:this.idmodelo}})}irinicio(){this.route.navigate(["/sup/modelo/modelo"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.F0),e.Y36(k.ye),e.Y36(j.Q),e.Y36(ji.g),e.Y36($.y),e.Y36(f.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-matriz-evaluacion"]],viewQuery:function(t,n){if(1&t&&e.Gf(k.NW,5),2&t){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:73,vars:14,consts:[[1,"container","bg-light","border","border-start-0","rounded-4"],[1,"blockquote","text-dark",2,"margin-top","5%"],[2,"text-transform","uppercase"],[2,"cursor","pointer",3,"click"],[1,"display-1"],["id","tit"],[1,"btn-tabs"],["mat-button","",1,"btn-tab",3,"ngClass","click"],[1,"table-contaoner",2,"display","flex","margin-bottom","2%"],[1,"mat-elevation-z8","tabla-container"],["mat-table","",3,"dataSource"],["matColumnDef","Indicador"],["mat-header-cell","",3,"display",4,"matHeaderCellDef"],["mat-cell","","style","padding: 4px; font-size: 12px;",3,"display",4,"matCellDef"],["matColumnDef","DescIn"],["matColumnDef","Peso"],["mat-cell","","style","padding: 4px; font-size: 12px;","class","centrar",3,"display",4,"matCellDef"],["matColumnDef","Obtenido"],["mat-cell","","style","padding: 4px; font-size: 12px;",3,"display","ngClass",4,"matCellDef"],["matColumnDef","Utilidad"],["matColumnDef","Valor"],["matColumnDef","Evidencia"],["mat-cell","","style","padding: 4px; font-size: 12px;",3,"background-color","display",4,"matCellDef"],["matColumnDef","Archivos"],["mat-cell","","style","padding: 4px; font-size: 14px;",3,"display",4,"matCellDef"],["matColumnDef","Idind"],["matColumnDef","Tipo"],["matColumnDef","Calificar"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"display",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",2,"padding","4px","font-size","12px"],["mat-cell","",1,"centrar",2,"padding","4px","font-size","12px"],["mat-cell","",2,"padding","4px","font-size","12px",3,"ngClass"],["mat-cell","",2,"padding","4px","font-size","14px"],["download","",3,"href"],["mat-cell",""],["mat-icon-button","",1,"boton",3,"click"],[1,"iconoB"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"blockquote",1)(3,"h1",2)(4,"strong")(5,"a",3),e.NdJ("click",function(){return n.irinicio()}),e._uU(6,"Modelos "),e.qZA(),e._uU(7," > "),e.TgZ(8,"a",3),e.NdJ("click",function(){return n.regresar()}),e._uU(9),e.qZA(),e._uU(10," > "),e.TgZ(11,"a"),e._uU(12),e.qZA()()()(),e.TgZ(13,"h1",4),e._uU(14,"MATRIZ DE EVALUACI\xd3N"),e.qZA(),e.TgZ(15,"div",5)(16,"div",6)(17,"button",7),e.NdJ("click",function(){return n.showIndicador()}),e._uU(18," Indicador "),e.qZA(),e.TgZ(19,"button",7),e.NdJ("click",function(){return n.showDescripcionin()}),e._uU(20," Descripci\xf3n "),e.qZA(),e.TgZ(21,"button",7),e.NdJ("click",function(){return n.showEvidencia()}),e._uU(22," Evidencia "),e.qZA(),e.TgZ(23,"button",7),e.NdJ("click",function(){return n.showPeso()}),e._uU(24," Peso "),e.qZA(),e.TgZ(25,"button",7),e.NdJ("click",function(){return n.showObtenido()}),e._uU(26," % Obte "),e.qZA(),e.TgZ(27,"button",7),e.NdJ("click",function(){return n.showUtilidad()}),e._uU(28," % Util "),e.qZA(),e.TgZ(29,"button",7),e.NdJ("click",function(){return n.showValor()}),e._uU(30," Valor "),e.qZA(),e.TgZ(31,"button",7),e.NdJ("click",function(){return n.showArchivo()}),e._uU(32," Archivo "),e.qZA(),e.TgZ(33,"button",7),e.NdJ("click",function(){return n.showTipo()}),e._uU(34," Tipo "),e.qZA()()(),e.TgZ(35,"div",8)(36,"div",9)(37,"table",10),e.ynx(38,11),e.YNc(39,Wi,2,2,"th",12),e.YNc(40,zi,2,5,"td",13),e.BQk(),e.ynx(41,14),e.YNc(42,Hi,2,2,"th",12),e.YNc(43,Gi,2,4,"td",13),e.BQk(),e.ynx(44,15),e.YNc(45,Vi,2,2,"th",12),e.YNc(46,Xi,2,4,"td",16),e.BQk(),e.ynx(47,17),e.YNc(48,Ki,2,2,"th",12),e.YNc(49,ta,2,10,"td",18),e.BQk(),e.ynx(50,19),e.YNc(51,oa,2,2,"th",12),e.YNc(52,na,2,4,"td",16),e.BQk(),e.ynx(53,20),e.YNc(54,ia,2,2,"th",12),e.YNc(55,aa,2,4,"td",16),e.BQk(),e.ynx(56,21),e.YNc(57,ra,2,2,"th",12),e.YNc(58,la,2,6,"td",22),e.BQk(),e.ynx(59,23),e.YNc(60,ca,1,2,"th",12),e.YNc(61,sa,3,4,"td",24),e.BQk(),e.ynx(62,25),e.YNc(63,da,2,2,"th",12),e.YNc(64,ma,2,4,"td",13),e.BQk(),e.ynx(65,26),e.YNc(66,ua,2,2,"th",12),e.YNc(67,pa,2,4,"td",13),e.BQk(),e.ynx(68,27),e.YNc(69,ga,2,0,"th",28),e.YNc(70,ha,4,3,"td",29),e.BQk(),e.YNc(71,_a,1,0,"tr",30),e.YNc(72,fa,1,0,"tr",31),e.qZA()()()()()),2&t&&(e.xp6(9),e.hij("",n.idmodelo.nombre," "),e.xp6(3),e.hij("",n.nombre," "),e.xp6(5),e.Q6J("ngClass",n.verIndicador?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verDesIndicador?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verEvidencia?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verPeso?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verObtenido?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verUtilidad?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verValor?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verArchivo?"selected":""),e.xp6(2),e.Q6J("ngClass",n.verTipo?"selected":""),e.xp6(4),e.Q6J("dataSource",n.datacrite),e.xp6(34),e.Q6J("matHeaderRowDef",n.displayedColumns3),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns3))},dependencies:[Z.mk,U.lW,U.RK,z.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:[".table-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;overflow-x:auto;max-width:100%}.rojo[_ngcontent-%COMP%]{background-color:red;color:#fff;text-align:center}.centrar[_ngcontent-%COMP%]{background-color:#fcfafa;color:#020202;text-align:center}.naranja[_ngcontent-%COMP%]{background-color:orange;color:#fff;text-align:center}.amarillo[_ngcontent-%COMP%]{background-color:#ff0;text-align:center}.verde[_ngcontent-%COMP%]{background-color:green;color:#fff;text-align:center}.btn-tabs[_ngcontent-%COMP%]{display:flex}.btn-tab[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#dca500;color:#000;font-weight:700;transform-origin:top right;transform:skew(-20deg);margin-right:-10px;cursor:pointer;transition:background-color .3s ease-in-out,color .3s ease-in-out}.btn-tab.selected[_ngcontent-%COMP%]{background-color:#044c9b;color:#fff}.boton[_ngcontent-%COMP%]{background-color:#0d6efd}.iconoB[_ngcontent-%COMP%]{color:#fff}.center-cell[_ngcontent-%COMP%]{justify-content:center;align-items:center}.center-encabezado[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:grey}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{text-decoration:none}body[_ngcontent-%COMP%]{font:1em/1.618 Inter,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:30px;color:#224}"],data:{animation:[(0,v.X$)("detailExpand",[(0,v.SB)("collapsed",(0,v.oB)({height:"0px",minHeight:"0"})),(0,v.SB)("expanded",(0,v.oB)({height:"*"})),(0,v.eR)("expanded <=> collapsed",(0,v.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})();var va=u(2185);function Ca(o,i){1&o&&(e.TgZ(0,"th",11),e._uU(1," No. "),e.qZA())}function xa(o,i){if(1&o&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.rowNumber)}}function Ta(o,i){if(1&o&&(e.TgZ(0,"th",11),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.columnNames[t]," ")}}function wa(o,i){if(1&o&&(e.TgZ(0,"td",12),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[n]," ")}}function Da(o,i){1&o&&(e.ynx(0,13),e.YNc(1,Ta,2,1,"th",4),e.YNc(2,wa,2,1,"td",5),e.BQk()),2&o&&e.s9C("matColumnDef",i.$implicit)}function Ma(o,i){if(1&o&&e._UZ(0,"td",12),2&o){const t=e.oxw();e.uIk("colspan",t.columnsToDisplayWithExpand.length)}}function Za(o,i){1&o&&e._UZ(0,"tr",14)}function ya(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.mostrarEvidencias(r))}),e.qZA()}}function Sa(o,i){1&o&&e._UZ(0,"tr",16)}const Aa=function(){return["expandedDetail"]},Pa=[{path:"detalle-subcriterio",component:Fi,pathMatch:"full"},{path:"detalle-indicador",component:Pi,pathMatch:"full",canActivate:[K.$]},{path:"modelo",component:di,pathMatch:"full",canActivate:[K.$]},{path:"detallemodelo",component:Ut,pathMatch:"full",canActivate:[K.$]},{path:"matriz-evaluacion",component:ba,pathMatch:"full",canActivate:[K.$]},{path:"matriz-evidencias",component:(()=>{class o{constructor(t,n){this.evidenciasService=t,this.activatedRoute=n,this.columnNames={descripcion:"Descripci\xf3n de la Evidencia"},this.columnsToDisplay=["descripcion"],this.columnsToDisplayWithExpand=["rowNumber",...this.columnsToDisplay]}ngOnInit(){this.ListarEvidencias()}ListarEvidencias(){this.activatedRoute.queryParams.subscribe(t=>{this.idIndicador=t.indicador,this.evidenciasService.getEvidenciaPorIndicador(this.idIndicador).subscribe(n=>{this.dataSource=n;for(let a=0;a<this.dataSource.length;a++)this.dataSource[a].rowNumber=a+1})})}mostrarEvidencias(t){}regresar(){window.history.back()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(va.u),e.Y36(y.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-matriz-evidencias"]],decls:15,vars:6,consts:[["mat-raised-button","",1,"boton",3,"click"],[1,"container"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","rowNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"matColumnDef"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Listado de Evidencias"),e.qZA(),e.TgZ(2,"button",0),e.NdJ("click",function(){return n.regresar()}),e._uU(3," Regresar\n"),e.qZA(),e.TgZ(4,"div",1)(5,"table",2),e.ynx(6,3),e.YNc(7,Ca,2,0,"th",4),e.YNc(8,xa,2,1,"td",5),e.BQk(),e.YNc(9,Da,3,1,"ng-container",6),e.ynx(10,7),e.YNc(11,Ma,1,1,"td",5),e.BQk(),e.YNc(12,Za,1,0,"tr",8),e.YNc(13,ya,1,0,"tr",9),e.YNc(14,Sa,1,0,"tr",10),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("ngForOf",n.columnsToDisplay),e.xp6(3),e.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(5,Aa)))},dependencies:[Z.sg,U.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:[".table-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;overflow-x:auto;max-width:100%}.boton[_ngcontent-%COMP%]{background-color:#0d6efd}.iconoB[_ngcontent-%COMP%]{color:#fff}.center-cell[_ngcontent-%COMP%]{justify-content:center;align-items:center}.center-encabezado[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:grey}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[(0,v.X$)("detailExpand",[(0,v.SB)("collapsed",(0,v.oB)({height:"0px",minHeight:"0"})),(0,v.SB)("expanded",(0,v.oB)({height:"*"})),(0,v.eR)("expanded <=> collapsed",(0,v.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})(),pathMatch:"full",canActivate:[K.$]}];let Ua=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[y.Bz.forChild(Pa),y.Bz]}),o})();var Ia=u(1327);let Oa=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z.ez,Ua,Ia.m]}),o})()}}]);